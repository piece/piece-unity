# $Id: Registration.yaml 460 2006-07-23 06:07:50Z iteman $
firstState: DisplayForm
lastState: { name: DisplayFinish, view: Finish }
viewState:
  - name: DisplayForm
    view: Form
    activity:
      class: AuthenticationAction
      method: setupForm
    transition:
      - event: login
        nextState: processLogin
        action:
          class: AuthenticationAction
          method: authenticate

  - name: DisplayLogined
    view: Logined
    activity:
      class: AuthenticationAction
      method: setupLogined
    transition:
      - event: logout
        nextState: processLogout
        action:
          class: AuthenticationAction
          method: leave

actionState:
  - name: processLogin
    transition:
      - event: goDisplayLogined
        nextState: DisplayLogined
      - event: goDisplayForm
        nextState: DisplayForm

  - name: processLogout
    transition:
      - event: goDisplayFinish
        nextState: DisplayFinish
