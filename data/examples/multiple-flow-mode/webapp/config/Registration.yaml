# $Id$
name: Registration
firstState: DisplayForm
lastState: { name: Finish, view: Finish }
viewState:
  - name: DisplayForm
    view: Form
    activity:
      class: RegistrationAction
      method: setupForm
    transition:
      - event: goNext
        nextState: processGoNext
        action:
          class: RegistrationAction
          method: validate
  - name: ConfirmForm
    view: Confirmation
    activity:
      class: RegistrationAction
      method: setupConfirmation
    transition:
      - event: register
        nextState: processRegister
        action:
          class: RegistrationAction
          method: register
      - event: reedit
        nextState: DisplayForm
actionState:
  - name: processGoNext
    transition:
      - event: succeed
        nextState: ConfirmForm
  - name: processRegister
    transition:
      - event: succeed
        nextState: Finish
