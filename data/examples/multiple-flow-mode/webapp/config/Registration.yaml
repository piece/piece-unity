# $Id$
name: Registration
firstState: DisplayForm
lastState: { name: DisplayFinish, view: Finish }
viewState:
  - name: DisplayForm
    view: Form
    activity:
      class: RegistrationAction
      method: setupForm
    transition:
      - event: confirmForm
        nextState: processConfirmForm
        action:
          class: RegistrationAction
          method: validate
  - name: DisplayConfirmation
    view: Confirmation
    activity:
      class: RegistrationAction
      method: setupConfirmation
    transition:
      - event: register
        nextState: processRegister
        action:
          class: RegistrationAction
          method: register
      - event: goDisplayForm
        nextState: DisplayForm
actionState:
  - name: processConfirmForm
    transition:
      - event: succeed
        nextState: DisplayConfirmation
  - name: processRegister
    transition:
      - event: succeed
        nextState: DisplayFinish
