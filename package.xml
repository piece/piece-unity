<?xml version="1.0" encoding="UTF-8"?>
<package packagerversion="1.6.2" version="2.0" xmlns="http://pear.php.net/dtd/package-2.0" xmlns:tasks="http://pear.php.net/dtd/tasks-1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://pear.php.net/dtd/tasks-1.0
    http://pear.php.net/dtd/tasks-1.0.xsd
    http://pear.php.net/dtd/package-2.0
    http://pear.php.net/dtd/package-2.0.xsd">
 <name>Piece_Unity</name>
 <channel>pear.piece-framework.com</channel>
 <summary>A stateful and secure web application framework for PHP</summary>
 <description>Piece_Unity is a stateful and secure web application framework for PHP.

Piece_Unity allows stateful programming without thinking about sessions by storing and restoring states with a technology known as continuation server. It also provides high security and eases the burden of implementing security measures for applications by application flow control.</description>
 <lead>
  <name>KUBO Atsuhiro</name>
  <user>iteman</user>
  <email>iteman@users.sourceforge.net</email>
  <active>yes</active>
 </lead>
 <date>2007-11-21</date>
 <time>11:59:50</time>
 <version>
  <release>1.3.1</release>
  <api>0.7.0</api>
 </version>
 <stability>
  <release>stable</release>
  <api>stable</api>
 </stability>
 <license uri="http://www.opensource.org/licenses/bsd-license.php">BSD License (revised)</license>
 <notes>A new release of Piece_Unity is now available.

What&apos;s New in Piece_Unity 1.3.1

 * A Defect Fix: A defect that flowMappings does not work with reverse proxy.</notes>
 <contents>
  <dir baseinstalldir="/" name="/">
   <dir name="data">
    <dir name="js">
     <file name="ahah.js" role="data">
      <tasks:replace from="@package_version@" to="version" type="package-info" />
     </file>
    </dir> <!-- /data/js -->
    <file name="piece-unity-config.yaml" role="data">
     <tasks:replace from="@package_version@" to="version" type="package-info" />
    </file>
    <file name="piece-unity.yaml" role="data">
     <tasks:replace from="@package_version@" to="version" type="package-info" />
    </file>
   </dir> <!-- /data -->
   <dir name="docs">
    <file name="LICENSE" role="doc">
     <tasks:replace from="@package_version@" to="version" type="package-info" />
    </file>
   </dir> <!-- /docs -->
   <dir name="Piece">
    <dir name="Unity">
     <dir name="Config">
      <file name="Factory.php" role="php">
       <tasks:replace from="@package_version@" to="version" type="package-info" />
      </file>
     </dir> <!-- /Piece/Unity/Config -->
     <dir name="Plugin">
      <dir name="Configurator">
       <dir name="EnvHandler">
        <file name="PieceFlow.php" role="php">
         <tasks:replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="PieceRight.php" role="php">
         <tasks:replace from="@package_version@" to="version" type="package-info" />
        </file>
       </dir> <!-- /Piece/Unity/Plugin/Configurator/EnvHandler -->
       <file name="AppRoot.php" role="php">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
       <file name="Env.php" role="php">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
       <file name="Event.php" role="php">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
       <file name="Plugin.php" role="php">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
       <file name="Proxy.php" role="php">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
       <file name="Request.php" role="php">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
       <file name="Validation.php" role="php">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
      </dir> <!-- /Piece/Unity/Plugin/Configurator -->
      <dir name="Dispatcher">
       <file name="Continuation.php" role="php">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
       <file name="Simple.php" role="php">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
      </dir> <!-- /Piece/Unity/Plugin/Dispatcher -->
      <dir name="Interceptor">
       <file name="SessionStart.php" role="php">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
      </dir> <!-- /Piece/Unity/Plugin/Interceptor -->
      <dir name="Renderer">
       <file name="HTML.php" role="php">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
       <file name="HTMLTest.php" role="php">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
       <file name="PHP.php" role="php">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
       <file name="Redirection.php" role="php">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
      </dir> <!-- /Piece/Unity/Plugin/Renderer -->
      <file name="Common.php" role="php">
       <tasks:replace from="@package_version@" to="version" type="package-info" />
      </file>
      <file name="ConfiguratorChain.php" role="php">
       <tasks:replace from="@package_version@" to="version" type="package-info" />
      </file>
      <file name="Controller.php" role="php">
       <tasks:replace from="@package_version@" to="version" type="package-info" />
      </file>
      <file name="Factory.php" role="php">
       <tasks:replace from="@package_version@" to="version" type="package-info" />
      </file>
      <file name="InterceptorChain.php" role="php">
       <tasks:replace from="@package_version@" to="version" type="package-info" />
      </file>
      <file name="OutputBufferStack.php" role="php">
       <tasks:replace from="@package_version@" to="version" type="package-info" />
      </file>
      <file name="Root.php" role="php">
       <tasks:replace from="@package_version@" to="version" type="package-info" />
      </file>
      <file name="View.php" role="php">
       <tasks:replace from="@package_version@" to="version" type="package-info" />
      </file>
     </dir> <!-- /Piece/Unity/Plugin -->
     <dir name="Service">
      <file name="FlowAction.php" role="php">
       <tasks:replace from="@package_version@" to="version" type="package-info" />
      </file>
     </dir> <!-- /Piece/Unity/Service -->
     <dir name="Session">
      <file name="Preload.php" role="php">
       <tasks:replace from="@package_version@" to="version" type="package-info" />
      </file>
     </dir> <!-- /Piece/Unity/Session -->
     <file name="ClassLoader.php" role="php">
      <tasks:replace from="@package_version@" to="version" type="package-info" />
     </file>
     <file name="Config.php" role="php">
      <tasks:replace from="@package_version@" to="version" type="package-info" />
     </file>
     <file name="Context.php" role="php">
      <tasks:replace from="@package_version@" to="version" type="package-info" />
     </file>
     <file name="Env.php" role="php">
      <tasks:replace from="@package_version@" to="version" type="package-info" />
     </file>
     <file name="Error.php" role="php">
      <tasks:replace from="@package_version@" to="version" type="package-info" />
     </file>
     <file name="Request.php" role="php">
      <tasks:replace from="@package_version@" to="version" type="package-info" />
     </file>
     <file name="Session.php" role="php">
      <tasks:replace from="@package_version@" to="version" type="package-info" />
     </file>
     <file name="URL.php" role="php">
      <tasks:replace from="@package_version@" to="version" type="package-info" />
     </file>
     <file name="Validation.php" role="php">
      <tasks:replace from="@package_version@" to="version" type="package-info" />
     </file>
     <file name="ViewElement.php" role="php">
      <tasks:replace from="@package_version@" to="version" type="package-info" />
     </file>
    </dir> <!-- /Piece/Unity -->
    <file name="Unity.php" role="php">
     <tasks:replace from="@package_version@" to="version" type="package-info" />
    </file>
   </dir> <!-- /Piece -->
   <dir name="tests">
    <dir name="Piece">
     <dir name="Unity">
      <dir name="Config">
       <dir name="FactoryTestCase">
        <dir name="CacheIDsShouldBeUniqueInOneCacheDirectory1">
         <file name="piece-unity-config.yaml" role="test">
          <tasks:replace from="@package_version@" to="version" type="package-info" />
         </file>
        </dir> <!-- /tests/Piece/Unity/Config/FactoryTestCase/CacheIDsShouldBeUniqueInOneCacheDirectory1 -->
        <dir name="CacheIDsShouldBeUniqueInOneCacheDirectory2">
         <file name="piece-unity-config.yaml" role="test">
          <tasks:replace from="@package_version@" to="version" type="package-info" />
         </file>
        </dir> <!-- /tests/Piece/Unity/Config/FactoryTestCase/CacheIDsShouldBeUniqueInOneCacheDirectory2 -->
        <file name="piece-unity-config.yaml" role="test">
         <tasks:replace from="@package_version@" to="version" type="package-info" />
        </file>
       </dir> <!-- /tests/Piece/Unity/Config/FactoryTestCase -->
       <file name="FactoryTestCase.php" role="test">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
      </dir> <!-- /tests/Piece/Unity/Config -->
      <dir name="Plugin">
       <dir name="CommonTestCase">
        <dir name="CommonTestCaseAlias">
         <file name="Baz.php" role="test">
          <tasks:replace from="@package_version@" to="version" type="package-info" />
         </file>
         <file name="ExceptionShouldBeRaisedWhenUndefinedConfigurationPointIsUsed.php" role="test">
          <tasks:replace from="@package_version@" to="version" type="package-info" />
         </file>
         <file name="ExceptionShouldBeRaisedWhenUndefinedExtensionPointIsUsed.php" role="test">
          <tasks:replace from="@package_version@" to="version" type="package-info" />
         </file>
         <file name="ExceptionShouldBeRaisedWhenUndefinedExtensionPointIsUsedInConfiguration.php" role="test">
          <tasks:replace from="@package_version@" to="version" type="package-info" />
         </file>
         <file name="Foo.php" role="test">
          <tasks:replace from="@package_version@" to="version" type="package-info" />
         </file>
         <file name="Qux.php" role="test">
          <tasks:replace from="@package_version@" to="version" type="package-info" />
         </file>
        </dir> <!-- /tests/Piece/Unity/Plugin/CommonTestCase/CommonTestCaseAlias -->
        <file name="CannotGetConfigurationWithPluginPrefixBaz.php" role="test">
         <tasks:replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="CannotGetConfigurationWithPluginPrefixFoo.php" role="test">
         <tasks:replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="CannotGetConfigurationWithPluginPrefixQux.php" role="test">
         <tasks:replace from="@package_version@" to="version" type="package-info" />
        </file>
       </dir> <!-- /tests/Piece/Unity/Plugin/CommonTestCase -->
       <dir name="Configurator">
        <dir name="PluginTestCase">
         <dir name="PluginTestCaseAlias">
          <file name="Bar.php" role="test">
           <tasks:replace from="@package_version@" to="version" type="package-info" />
          </file>
          <file name="Foo.php" role="test">
           <tasks:replace from="@package_version@" to="version" type="package-info" />
          </file>
         </dir> <!-- /tests/Piece/Unity/Plugin/Configurator/PluginTestCase/PluginTestCaseAlias -->
        </dir> <!-- /tests/Piece/Unity/Plugin/Configurator/PluginTestCase -->
        <dir name="ValidationTestCase">
         <dir name="ValidationTestCaseAlias">
          <file name="HelloWorld.php" role="test">
           <tasks:replace from="@package_version@" to="version" type="package-info" />
          </file>
          <file name="LowerCase.php" role="test">
           <tasks:replace from="@package_version@" to="version" type="package-info" />
          </file>
         </dir> <!-- /tests/Piece/Unity/Plugin/Configurator/ValidationTestCase/ValidationTestCaseAlias -->
         <file name="Authentication.yaml" role="test">
          <tasks:replace from="@package_version@" to="version" type="package-info" />
         </file>
        </dir> <!-- /tests/Piece/Unity/Plugin/Configurator/ValidationTestCase -->
        <file name="AppRootTestCase.php" role="test">
         <tasks:replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="EnvTestCase.php" role="test">
         <tasks:replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="EventTestCase.php" role="test">
         <tasks:replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="PluginTestCase.php" role="test">
         <tasks:replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="ProxyTestCase.php" role="test">
         <tasks:replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="RequestTestCase.php" role="test">
         <tasks:replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="ValidationTestCase.php" role="test">
         <tasks:replace from="@package_version@" to="version" type="package-info" />
        </file>
       </dir> <!-- /tests/Piece/Unity/Plugin/Configurator -->
       <dir name="ConfiguratorChainTestCase">
        <file name="FirstConfigurator.php" role="test">
         <tasks:replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="SecondConfigurator.php" role="test">
         <tasks:replace from="@package_version@" to="version" type="package-info" />
        </file>
       </dir> <!-- /tests/Piece/Unity/Plugin/ConfiguratorChainTestCase -->
       <dir name="ControllerTestCase">
        <file name="ControllerTestCaseSpecifyingArbitraryViewInActionShouldWorkAction.php" role="test">
         <tasks:replace from="@package_version@" to="version" type="package-info" />
        </file>
       </dir> <!-- /tests/Piece/Unity/Plugin/ControllerTestCase -->
       <dir name="Dispatcher">
        <dir name="ContinuationTestCase">
         <dir name="Entry">
          <file name="New.flow" role="test">
           <tasks:replace from="@package_version@" to="version" type="package-info" />
          </file>
          <file name="NewAction.php" role="test">
           <tasks:replace from="@package_version@" to="version" type="package-info" />
          </file>
         </dir> <!-- /tests/Piece/Unity/Plugin/Dispatcher/ContinuationTestCase/Entry -->
         <file name="AnyExceptionsExceptPieceFlow.yaml" role="test">
          <tasks:replace from="@package_version@" to="version" type="package-info" />
         </file>
         <file name="AnyExceptionsExceptPieceFlowAction.php" role="test">
          <tasks:replace from="@package_version@" to="version" type="package-info" />
         </file>
         <file name="ContinuationValidation.yaml" role="test">
          <tasks:replace from="@package_version@" to="version" type="package-info" />
         </file>
         <file name="ContinuationValidationAction.php" role="test">
          <tasks:replace from="@package_version@" to="version" type="package-info" />
         </file>
         <file name="Counter.php" role="test">
          <tasks:replace from="@package_version@" to="version" type="package-info" />
         </file>
         <file name="Counter.yaml" role="test">
          <tasks:replace from="@package_version@" to="version" type="package-info" />
         </file>
         <file name="CounterAction.php" role="test">
          <tasks:replace from="@package_version@" to="version" type="package-info" />
         </file>
         <file name="FlowExecutionExpired.yaml" role="test">
          <tasks:replace from="@package_version@" to="version" type="package-info" />
         </file>
         <file name="Validation.yaml" role="test">
          <tasks:replace from="@package_version@" to="version" type="package-info" />
         </file>
        </dir> <!-- /tests/Piece/Unity/Plugin/Dispatcher/ContinuationTestCase -->
        <dir name="SimpleTestCase">
         <file name="ActionShouldBeAbleToReturnViewStringAction.php" role="test">
          <tasks:replace from="@package_version@" to="version" type="package-info" />
         </file>
         <file name="SimpleExampleAction.php" role="test">
          <tasks:replace from="@package_version@" to="version" type="package-info" />
         </file>
         <file name="SimpleValidationAction.php" role="test">
          <tasks:replace from="@package_version@" to="version" type="package-info" />
         </file>
         <file name="Validation.yaml" role="test">
          <tasks:replace from="@package_version@" to="version" type="package-info" />
         </file>
        </dir> <!-- /tests/Piece/Unity/Plugin/Dispatcher/SimpleTestCase -->
        <file name="ContinuationTestCase.php" role="test">
         <tasks:replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="SimpleTestCase.php" role="test">
         <tasks:replace from="@package_version@" to="version" type="package-info" />
        </file>
       </dir> <!-- /tests/Piece/Unity/Plugin/Dispatcher -->
       <dir name="FactoryTestCase">
        <dir name="FactoryTestCaseAlias">
         <dir name="FactoryTestCase">
          <file name="Foo.php" role="test">
           <tasks:replace from="@package_version@" to="version" type="package-info" />
          </file>
         </dir> <!-- /tests/Piece/Unity/Plugin/FactoryTestCase/FactoryTestCaseAlias/FactoryTestCase -->
         <file name="Bar.php" role="test">
          <tasks:replace from="@package_version@" to="version" type="package-info" />
         </file>
         <file name="Foo.php" role="test">
          <tasks:replace from="@package_version@" to="version" type="package-info" />
         </file>
        </dir> <!-- /tests/Piece/Unity/Plugin/FactoryTestCase/FactoryTestCaseAlias -->
        <dir name="Piece">
         <dir name="Unity">
          <dir name="Plugin">
           <dir name="FactoryTestCase">
            <file name="Bar.php" role="test">
             <tasks:replace from="@package_version@" to="version" type="package-info" />
            </file>
            <file name="Foo.php" role="test">
             <tasks:replace from="@package_version@" to="version" type="package-info" />
            </file>
            <file name="Invalid.php" role="test">
             <tasks:replace from="@package_version@" to="version" type="package-info" />
            </file>
           </dir> <!-- /tests/Piece/Unity/Plugin/FactoryTestCase/Piece/Unity/Plugin/FactoryTestCase -->
          </dir> <!-- /tests/Piece/Unity/Plugin/FactoryTestCase/Piece/Unity/Plugin -->
         </dir> <!-- /tests/Piece/Unity/Plugin/FactoryTestCase/Piece/Unity -->
        </dir> <!-- /tests/Piece/Unity/Plugin/FactoryTestCase/Piece -->
        <file name="Bar.php" role="test">
         <tasks:replace from="@package_version@" to="version" type="package-info" />
        </file>
       </dir> <!-- /tests/Piece/Unity/Plugin/FactoryTestCase -->
       <dir name="Interceptor">
        <file name="First.php" role="test">
         <tasks:replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="Second.php" role="test">
         <tasks:replace from="@package_version@" to="version" type="package-info" />
        </file>
       </dir> <!-- /tests/Piece/Unity/Plugin/Interceptor -->
       <dir name="OutputFilter">
        <file name="First.php" role="test">
         <tasks:replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="Second.php" role="test">
         <tasks:replace from="@package_version@" to="version" type="package-info" />
        </file>
       </dir> <!-- /tests/Piece/Unity/Plugin/OutputFilter -->
       <dir name="Renderer">
        <dir name="PHPTestCase">
         <dir name="actions">
          <file name="PHPExampleAction.php" role="test">
           <tasks:replace from="@package_version@" to="version" type="package-info" />
          </file>
         </dir> <!-- /tests/Piece/Unity/Plugin/Renderer/PHPTestCase/actions -->
         <dir name="templates">
          <dir name="Content">
           <file name="PHPExample.php" role="test">
            <tasks:replace from="@package_version@" to="version" type="package-info" />
           </file>
           <file name="PHPKeepingReference.php" role="test">
            <tasks:replace from="@package_version@" to="version" type="package-info" />
           </file>
           <file name="PHPLayoutContent.php" role="test">
            <tasks:replace from="@package_version@" to="version" type="package-info" />
           </file>
          </dir> <!-- /tests/Piece/Unity/Plugin/Renderer/PHPTestCase/templates/Content -->
          <dir name="Fallback">
           <file name="Fallback.php" role="test">
            <tasks:replace from="@package_version@" to="version" type="package-info" />
           </file>
          </dir> <!-- /tests/Piece/Unity/Plugin/Renderer/PHPTestCase/templates/Fallback -->
          <dir name="Foo">
           <dir name="Bar">
            <file name="Baz.php" role="test">
             <tasks:replace from="@package_version@" to="version" type="package-info" />
            </file>
           </dir> <!-- /tests/Piece/Unity/Plugin/Renderer/PHPTestCase/templates/Foo/Bar -->
          </dir> <!-- /tests/Piece/Unity/Plugin/Renderer/PHPTestCase/templates/Foo -->
          <dir name="Layout">
           <file name="PHPLayout.php" role="test">
            <tasks:replace from="@package_version@" to="version" type="package-info" />
           </file>
          </dir> <!-- /tests/Piece/Unity/Plugin/Renderer/PHPTestCase/templates/Layout -->
         </dir> <!-- /tests/Piece/Unity/Plugin/Renderer/PHPTestCase/templates -->
        </dir> <!-- /tests/Piece/Unity/Plugin/Renderer/PHPTestCase -->
        <file name="PHPTestCase.php" role="test">
         <tasks:replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="RedirectionTestCase.php" role="test">
         <tasks:replace from="@package_version@" to="version" type="package-info" />
        </file>
       </dir> <!-- /tests/Piece/Unity/Plugin/Renderer -->
       <file name="CommonTestCase.php" role="test">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
       <file name="ConfiguratorChainTestCase.php" role="test">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
       <file name="ControllerTestCase.php" role="test">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
       <file name="FactoryTestCase.php" role="test">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
       <file name="InterceptorChainTestCase.php" role="test">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
       <file name="OutputBufferStackTestCase.php" role="test">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
       <file name="RelativePathVulnerability.php" role="test">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
       <file name="RelativePathVulnerabilityAction.php" role="test">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
       <file name="ViewTestCase.php" role="test">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
      </dir> <!-- /tests/Piece/Unity/Plugin -->
      <dir name="SessionTestCase">
       <file name="AutoloadClass.php" role="test">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
       <file name="Foo.php" role="test">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
       <file name="Loader.php" role="test">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
      </dir> <!-- /tests/Piece/Unity/SessionTestCase -->
      <dir name="ValidationTestCase">
       <dir name="Piece">
        <dir name="Right">
         <dir name="Validator">
          <file name="PayloadTest.php" role="test">
           <tasks:replace from="@package_version@" to="version" type="package-info" />
          </file>
         </dir> <!-- /tests/Piece/Unity/ValidationTestCase/Piece/Right/Validator -->
        </dir> <!-- /tests/Piece/Unity/ValidationTestCase/Piece/Right -->
       </dir> <!-- /tests/Piece/Unity/ValidationTestCase/Piece -->
       <file name="Authentication.yaml" role="test">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
       <file name="Common.yaml" role="test">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
       <file name="MergeValidationSetShouldMergeConfigurationFileIntoConfiguration1.yaml" role="test">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
       <file name="MergeValidationSetShouldMergeConfigurationFileIntoConfiguration2.yaml" role="test">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
       <file name="MergeValidationSetShouldMergeConfigurationFileIntoConfiguration3.yaml" role="test">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
       <file name="TemplateShouldBeUsedIfFileIsSetAndBasedOnElementIsSpecified.yaml" role="test">
        <tasks:replace from="@package_version@" to="version" type="package-info" />
       </file>
      </dir> <!-- /tests/Piece/Unity/ValidationTestCase -->
      <file name="ConfigTestCase.php" role="test">
       <tasks:replace from="@package_version@" to="version" type="package-info" />
      </file>
      <file name="ContextTestCase.php" role="test">
       <tasks:replace from="@package_version@" to="version" type="package-info" />
      </file>
      <file name="RequestTestCase.php" role="test">
       <tasks:replace from="@package_version@" to="version" type="package-info" />
      </file>
      <file name="SessionTestCase.php" role="test">
       <tasks:replace from="@package_version@" to="version" type="package-info" />
      </file>
      <file name="URLTestCase.php" role="test">
       <tasks:replace from="@package_version@" to="version" type="package-info" />
      </file>
      <file name="ValidationTestCase.php" role="test">
       <tasks:replace from="@package_version@" to="version" type="package-info" />
      </file>
      <file name="ViewElementTestCase.php" role="test">
       <tasks:replace from="@package_version@" to="version" type="package-info" />
      </file>
     </dir> <!-- /tests/Piece/Unity -->
     <file name="UnityTestCase.php" role="test">
      <tasks:replace from="@package_version@" to="version" type="package-info" />
     </file>
    </dir> <!-- /tests/Piece -->
    <file name="prepare.php" role="test">
     <tasks:replace from="@package_version@" to="version" type="package-info" />
    </file>
   </dir> <!-- /tests -->
  </dir> <!-- / -->
 </contents>
 <dependencies>
  <required>
   <php>
    <min>4.3.0</min>
   </php>
   <pearinstaller>
    <min>1.4.3</min>
   </pearinstaller>
   <package>
    <name>Piece_Flow</name>
    <channel>pear.piece-framework.com</channel>
    <min>1.15.0</min>
   </package>
   <package>
    <name>Cache_Lite</name>
    <channel>pear.php.net</channel>
    <min>1.7.0</min>
   </package>
   <package>
    <name>PEAR</name>
    <channel>pear.php.net</channel>
    <min>1.4.3</min>
   </package>
   <package>
    <name>Net_URL</name>
    <channel>pear.php.net</channel>
    <min>1.0.14</min>
   </package>
   <package>
    <name>Piece_Right</name>
    <channel>pear.piece-framework.com</channel>
    <min>1.8.0</min>
   </package>
  </required>
 </dependencies>
 <phprelease />
 <changelog>
  <release>
   <version>
    <release>1.3.1</release>
    <api>0.7.0</api>
   </version>
   <stability>
    <release>stable</release>
    <api>stable</api>
   </stability>
   <date>2007-11-21</date>
   <license uri="http://www.opensource.org/licenses/bsd-license.php">BSD License (revised)</license>
   <notes>A new release of Piece_Unity is now available.

What&apos;s New in Piece_Unity 1.3.1

 * A Defect Fix: A defect that flowMappings does not work with reverse proxy.</notes>
  </release>
  <release>
   <version>
    <release>1.3.0</release>
    <api>0.7.0</api>
   </version>
   <stability>
    <release>stable</release>
    <api>stable</api>
   </stability>
   <date>2007-11-18</date>
   <license uri="http://www.opensource.org/licenses/bsd-license.php">BSD License (revised)</license>
   <notes>A new release of Piece_Unity is now available.

What&apos;s New in Piece_Unity 1.3.0

 * New configuration system for mapping urls to flows: A new configuration system for mapping urls to flows using a directory where flow definition files exist and an extension of flow definition files has been supported. And it supports layered structure for flow definition files, actions, and html views by using underscores in flow names as directory separators.
 * Layered structure support for less configuration: As mentioned above, the new configuration system for mapping urls to flows supports layered structure. And also the validation sysytem supports layered structure for validation definition files by using underscores in validation set names as directory separators.
 * Validation Template: Validation Template allows users to use a validation set as a template for another validation set.

See the following release notes for details.

Enhancements
============

Kernel:

- Added mergeValidationSet() which can be used to merge a validation set into the Piece_Right_Config object for the current validation. (Ticket #83) (Piece_Unity_Validation)
- Added a feature which allows users to use a validation set as a template for another validation set. (Piece_Unity_Validation)
- Added support for layered structure by using underscores in validation set names as directory separators. (Piece_Unity_Validation)
- Changed factory() so as to use the given cache directory as is. (Ticket #90) (Piece_Unity_Config_Factory)

Plug-ins:

- Changed code so as to use the value of &quot;templateDirectory&quot; instead if &quot;layoutDirectory&quot; is not given when using layout. (Renderer_PHP)
- Changed code so as to set the value to &quot;templateDirectory&quot; only if &quot;fallbackDirectory&quot; is given when using fallback. (Renderer_PHP)
- Added a feature which allows users to use a validation set as a template for another validation set. (Configurator_Validation)
- Added support for layered structure by using underscores in validation set names as directory separators. (Configurator_Validation)
- Added support for new configuration system using a directory where flow definition files exist and an extension of flow definition files. (Ticket #85) (Dispatcher_Continuation)

Defect Fixes
============

Plug-ins:

- Fixed a defect that caused any exceptions except Piece_Flow to not be thrown. (Ticket #88) (Dispatcher_Continuation)</notes>
  </release>
  <release>
   <version>
    <release>1.2.0</release>
    <api>0.7.0</api>
   </version>
   <stability>
    <release>stable</release>
    <api>stable</api>
   </stability>
   <date>2007-10-05</date>
   <license uri="http://www.opensource.org/licenses/bsd-license.php">BSD License (revised)</license>
   <notes>A new release of Piece_Unity is now available.

What&apos;s New in Piece_Unity 1.2.0

 * Enhanced Dispatcher_Simple plug-in: Two configuration points &quot;useDefaultEvent&quot; and &quot;defaultEventName&quot; have been added. These provide a feature so that the default event is used if the event is an empty string or NULL. And a feature which allows users to return a view string from an action has been added.
 * A few Defect Fixes: A defect that caused the same cache to be used if the relative paths of the configuration files are same even though the absolute paths of the files are different has been fixed. And also two defects in Renderer_PHP plug-in have been fixed.

See the following release notes for details.

Enhancements
============

Kernel:

- Changed getURL() so as to return without replacing the host and port if the URL is external. (Piece_Unity_URL)

Plug-ins:

- Added a feature so that users can overwrite the view returned from the dispatcher with an arbitrary view in an action. (Controller)
- Changed code so as to use the new interfaces for the continuation server. (Dispatcher_Continuation)
- Added two configuration points &quot;useDefaultEvent&quot; and &quot;defaultEventName&quot;. These provide a feature so that the default event is used if the event is an empty string or NULL. (Ticket #80) (Dispatcher_Simple)
- Added a feature which allows users to return a view string from an action. (Ticket #86) (Dispatcher_Simple)

Defect Fixes
============

Kernel:

- Fixed the defect that caused the same cache to be used if the relative paths of the configuration files are same even though the absolute paths of the files are different. (Piece_Unity_Config_Factory)

Plug-ins:

- Fixed the defect that caused $file to be tainted if the Piece_Unity_ViewElement object has &quot;file&quot; attribute. (Renderer_PHP)
- Fixed the defect that caused $viewElement to be tainted if the Piece_Unity_ViewElement object has &quot;viewElement&quot; attribute. (Renderer_PHP)</notes>
  </release>
  <release>
   <version>
    <release>1.1.0</release>
    <api>0.7.0</api>
   </version>
   <stability>
    <release>stable</release>
    <api>stable</api>
   </stability>
   <date>2007-08-26</date>
   <license uri="http://www.opensource.org/licenses/bsd-license.php">BSD License (revised)</license>
   <notes>A new release of Piece_Unity is now available.

What&apos;s New in Piece_Unity 1.1.0

 * Two client interfaces for dynamic configuration: Piece_Unity::setConfiguration() and Piece_Unity::setExtension() can be used for dynamic configuration in entry points and actions.
 * A client interface to get all field names in a form: Piece_Unity_Validation::getFieldNames() can be used to get all field names corresponding to the given validation set and a Piece_Right_Config object.
 * Environment settings: The configuration file is always read when the current environment is not production.
 * Garbage Collection: The garbage collection can be used for sweeping expired flow executions. The target of the garbage collection is only non-exclusive flow executions.

See the following release notes for details.

Enhancements
============ 

Kernel:

- Added setConfiguration()/setExtension() for client use. (Piece_Unity)
- Updated an exception to be raised when an undefined extension point or configuration point is used in the current configuration. (Piece_Unity_Plugin_Common, Piece_Unity_Config)
- Added error handling after instantiating a plug-in. (Piece_Unity_Plugin_Factory)
- Added getFieldNames() to get all field names corresponding to the given validation set and a Piece_Right_Config object. (Piece_Unity_Validation)
- Updated code so that the configuration file is always read when the current environment is not production. (Ticket #75) (Piece_Unity_Env, Piece_Unity_Config_Factory)

Services:

- Added clear() to clear all properties for the next use. (Piece_Unity_Service_FlowAction)

Plug-ins:

- Added support for garbage collection for expired flow executions. (Dispatcher_Continuation)
- Added missing error handling. (Dispatcher_Continuation)
- Added an extension point &quot;envHandlers&quot; which can be used to set whether the current environment is production or not to arbitrary components. (Configurator_Env, Configurator_EnvHandler_PieceFlow, Configurator_EnvHandler_PieceRight)</notes>
  </release>
  <release>
   <version>
    <release>1.0.0</release>
    <api>0.7.0</api>
   </version>
   <stability>
    <release>stable</release>
    <api>stable</api>
   </stability>
   <date>2007-07-18</date>
   <license uri="http://www.opensource.org/licenses/bsd-license.php">BSD License (revised)</license>
   <notes>This is the first stable release of Piece_Unity.

What&apos;s New in Piece_Unity 1.0.0

 * Components: A component is a package that consists of plug-ins, services, GUI elements (HTML templates, images, scripts, etc.), flow definition files, action classes, and entry points, etc.. Many plug-ins are extracted as each Piece_Unity_Component_Xxx package. See the following release notes for details.
 * Services: A service is one or more classes that provides useful operations for client use.
 * The Piece_Unity_Service_FlowAction class: The Piece_Unity_Service_FlowAction class can be used as the base class for Piece_Flow actions.

See the following release notes for details.

Enhancements
============ 

Plug-ins:

- Added error handling. (Interceptor_SessionStart)
- Moved the process of preloading Dispatcher_Continuation plug-in from Configurator_Plugin to Interceptor_SessionStart.
- A improvement for restoring action instances in session. (Dispatcher_Continuation, Interceptor_SessionStart, Piece_Unity_Session_Preload)
- Changed the error type on all Piece_Unity_Error::pushError() calls from &quot;warning&quot; to &quot;exception&quot;. (ConfiguratorChain, InterceptorChain, OutputBufferStack)
- Moved the following plug-ins to components/. These plug-ins will be packaged as each Piece_Unity_Component_Xxx package.
  * Interceptor_Authentication
  * OutputFilter_ContentLength
  * Renderer_Flexy
  * Renderer_JSON
  * OutputFilter_JapaneseZ2H
  * KernelConfigurator (obsoleted)
  * Interceptor_NullByteAttackPreventation
  * Configurator_PieceORM
  * Interceptor_ProxyBasePath (obsoleted)
  * Renderer_Smarty

Services:

- Added the base class for Piece_Flow actions. (Piece_Unity_Service_FlowAction)

Kernel:

- Changed factory() to throw an exception if the configuration directory or the configuration file not found. (Ticket #66) (Piece_Unity_Config_Factory)
- Added a class loader. (Piece_Unity_ClassLoader)
- Updated an exception to be raised when an undefined extension point is used. (Ticket #72) (Piece_Unity_Plugin_Common)
- Updated getResults() so that a Piece_Right_Results object can be get by a validation set name. (Ticket #70) (Piece_Unity_Validation)
- Improved error handling so as to recognize the place where the exception is raised. (Piece_Unity_Plugin_Common)
- Added hasResults() to check whether or not the Piece_Right_Results object of the given validation set or the latest validation exists. (Piece_Unity_Validation)</notes>
  </release>
  <release>
   <version>
    <release>0.13.0</release>
    <api>0.7.0</api>
   </version>
   <stability>
    <release>beta</release>
    <api>beta</api>
   </stability>
   <date>2007-07-15</date>
   <license uri="http://www.opensource.org/licenses/bsd-license.php">BSD License (revised)</license>
   <notes>A new release of Piece_Unity is now available.

What&apos;s New in Piece_Unity 0.13.0</notes>
  </release>
  <release>
   <version>
    <release>0.12.0</release>
    <api>0.7.0</api>
   </version>
   <stability>
    <release>beta</release>
    <api>beta</api>
   </stability>
   <date>2007-05-27</date>
   <license uri="http://www.opensource.org/licenses/bsd-license.php">BSD License (revised)</license>
   <notes>A new release of Piece_Unity is now available.

What&apos;s New in Piece_Unity 0.12.0

 * Configurator_AppRoot plug-in: A plug-in for setting the directory and the URL path that form the top of the document tree of an application visible from the web.
 * Configurator_PieceORM plug-in: A plug-in for Piece_ORM.
 * Several defect fixes: A defect in fallback view rendering has been fixed. And also a defect in Plug-in Aliases has been fixed. And other defects have been fixed.

See the following release notes for details.

Enhancements
============ 

Plug-ins:

- Added the plugins_dir configuration point. (Renderer_Smarty)
- Updated &quot;Self Notation&quot; so as to set true to the configuration point &quot;addFlowExecutionTicket&quot; of Renderer_Redirection plug-in. (View)
- Added &quot;Configurator_PieceORM&quot; plug-in for Piece_ORM.
- Added &quot;Configurator_Proxy&quot; plug-in for proxy.
- Changed the default value for the configuration point &quot;configurator&quot; from &quot;KernelConfigurator&quot; to &quot;ConfiguratorChain&quot;. (Root)
- Added &quot;Configurator_AppRoot&quot; plug-in for setting the directory and the URL path that form the top of the document tree of an application visible from the web. (Ticket #56)
- Removed the configuration point &quot;importSessionIDFromRequest&quot;. (Interceptor_SessionStart)

Kernel:

- Updated pushPEARError() so that the params field in the repackage array contains &quot;userinfo&quot; and &quot;debuginfo&quot; fields, which contains each of the return values from getUserInfo() and getDebugInfo(). (Piece_Unity_Error)
- Updated the constructor so as to receive a prefix for determining the plug-in name. (Piece_Unity_Plugin_Common)
- Changed the error type on all Piece_Unity_Error::pushError() calls from &quot;warning&quot; to &quot;exception&quot;. (Piece_Unity_URL)
- Added getRemoteAddr() for getting an IP address (or IP addresses) of the client making the request. (Piece_Unity_Context)
- Added _getExtension()/_getConfiguration(). (Piece_Unity_Plugin_Common)
  getExtension()/getConfiguration() are deprecated since Piece_Unity 0.12.0. (Ticket #54)

Example Applications:

- Changed the function for URI encoding from escape() to encodeURIcomponent(). (ahah.js)
- Replaced all &quot;__basePath&quot; with &quot;__appRootPath&quot;.

Defect Fixes
============ 

Plug-ins:

- Fixed a defect in fallback view rendering that caused a fallback view to be always rendered in spite of success in HTML rendering if one or more &quot;warning&quot; level errors raised before rendering. (Ticket #57)

Kernel:

- Fixed the problem that a plug-in with Plug-in Aliases cannot get the current configuration. (Ticket #53)
- Fixed the problem that the getExtension()/getConfiguration() cannot work with an empty prefix. (Piece_Unity_Plugin_Common)

Example Applications:

- Fixed the problem that all radio elements are transferred regardless of whether they are checked or not. (ahah.js)</notes>
  </release>
  <release>
   <version>
    <release>0.11.0</release>
    <api>0.7.0</api>
   </version>
   <stability>
    <release>beta</release>
    <api>beta</api>
   </stability>
   <date>2007-02-19</date>
   <license uri="http://www.opensource.org/licenses/bsd-license.php">BSD License (revised)</license>
   <notes>Hi all,

A new release of Piece_Unity is now available.

This release includes a feature named &quot;Fallback View&quot; which can be used for rendering a fallback view if an error occured while rendering with a specified view, and a feature named &quot;Plug-in Aliases&quot; which can be used multiple aliases as the name of a plug-in class by setting multiple prefixes.

Also this release includes a new plug-in &quot;ConfiguratorChain&quot; so that it can invoke multiple configurators. In the release after next, &quot;ConfiguratorChain&quot; will become the default configurator instead of &quot;KernelConfigurator&quot;.

And also other enhancements and two fixes are included. See the following release notes for details.

## Enhancements ##

### Kernel ###

##### Piece_Unity_Plugin_Factory #####

- Added a feature named &quot;Plug-in Aliases&quot; so that this feature can be used multiple aliases as the name of a plug-in class by setting multiple prefixes. (Ticket #40)

##### Piece_Unity_URL #####

- Added removeQueryString() to remove a name/value pair from the query string.

### Plug-ins ###

##### Renderer_Flexy, Renderer_HTML, Renderer_PHP, Renderer_Smarty #####

- Added a feature named &quot;Fallback View&quot;. (Ticket #37)
  If an error occured while rendering with a specified view and useFallback is true, a fallback view will be rendered.

##### KernelConfigurator #####

- Added a configuration point &quot;pluginPrefixes&quot; for using &quot;Plug-in Aliases&quot;.
- Added two configuration point &quot;validationValidatorPrefixes&quot; and &quot;validationFilterPrefixes&quot; for using &quot;Validator Aliases&quot; and &quot;Filter Aliases&quot;. (Ticket #43)

##### Renderer_Redirection #####

- Added a feature so that __eventNameKey is replaced with the event name key. (Ticket #38)

##### View #####

- Added a feature named &quot;Self Notation&quot; for redirection to an entry point itself. (Ticket #39)

##### ConfiguratorChain, Configurator_Env, Configurator_Event, Configurator_Plugin, Configurator_Request, Configurator_Validation #####

- Added a new plug-in &quot;ConfiguratorChain&quot; so that it can invoke multiple configurators. (Ticket #45)
  In the release after next, &quot;ConfiguratorChain&quot; will become the default configurator instead of &quot;KernelConfigurator&quot;.

### Example Applications ###

- Changed so as to use of ConfigurationChain.

## Defect Fixes ##

### Kernel ###

##### Piece_Unity_URL #####

- Fixed the problem so that EZweb mobile phone cannot redirect with Renderer_Redirection plug-in. (Ticket #44)

### Plug-ins ###

##### Renderer_Redirection #####

- Fixed the problem that the renderer cannot redirect to HTTPS URL.</notes>
  </release>
  <release>
   <version>
    <release>0.10.0</release>
    <api>0.7.0</api>
   </version>
   <stability>
    <release>beta</release>
    <api>beta</api>
   </stability>
   <date>2007-01-12</date>
   <license uri="http://www.opensource.org/licenses/bsd-license.php">BSD License (revised)</license>
   <notes>Hi all,

A new release of Piece_Unity is now available.
This release includes a nice feature for the layout system. It can turn off the use of the layout system by the HTTP Accept header. And also other enhancements are included.

See the following release notes for details.

## Enhancements ##

### Plug-ins ###

##### Renderer_HTML #####

- Added a new configuration point &apos;turnOffLayoutByHTTPAccept&apos; on Renderer_HTML.
  If this option is true, the useLayout option is turned off by the HTTP Accept header.

##### Dispatcher_Continuation #####

- Changed the default value of bindActionsWithFlowExecution to true.

##### Interceptor_SessionStart #####

- Added a feature to import a session ID from the request parameters when a new configuration point importSessionIDFromRequest is true. (Ticket #34)

### Example Applications ###

- Updated templates and javascripts of the sample application.</notes>
  </release>
  <release>
   <version>
    <release>0.9.0</release>
    <api>0.7.0</api>
   </version>
   <stability>
    <release>beta</release>
    <api>beta</api>
   </stability>
   <date>2006-12-23</date>
   <license uri="http://www.opensource.org/licenses/bsd-license.php">BSD License (revised)</license>
   <notes>Hi all,

A new release of Piece_Unity is now available.
For Piece_Unity, this will be a big release because this release includes a very important feature named &quot;Action Continuation&quot; and several powerful enhancements as follows.

&quot;Action Continuation&quot; is a very important feature for developers. This feature allows developers to write stateful action code via the properties without using flow attributes. In fact it allows stateful programming without thinking sessions. This means that the programming be nearer natural continuation programming, although it is limited the scope in the action.

Interceptor_Authentication plug-in provides a smart and simple solution for authentication.

Renderer_Flexy, Renderer_Smarty, and Renderer_PHP plug-ins provide a simple and useful layout system to reuse shared html layout across multiple pages.

Renderer_JSON plug-in allows to output view elements as JSON.

Also the example applications was restructured with new features as follows. (Sorry there are no JSON examples yet.)

A. Registration Applications

   1. A registration application. *non-exclusive*
   2. A registration application. *exclusive*
   3. A registration application with AHAH. *exclusive*

B. Authentication

   1. An authentication service. *exclusive*
   2. A resource which is protected by the above authentication service. *non-exclusive*

These examples will be available on the web one of these days.

And also other enhancements are included.

See the following release notes for details.

## Enhancements ##

### Kernel ###

##### Piece_Unity_URL #####

- A utility which is used to create the appropriate absolute URL from a relative/absolute URL. (Ticket #4)

##### Piece_Unity_Request #####

- Added support for accessing $_FILES contents as each parameter to support validation of files and images. (Ticket #10)

##### Piece_Unity_Context #####

- Added support for image input type. (Ticket #18)

##### Piece_Unity_Validation #####

- Changed so as to handle a Piece_Right_Results object by reference. (Ticket #20)
- Updated validate() to set a Piece_Unity_Context object as a payload to Piece_Right. (Ticket #19)

##### Piece_Unity_Session_Preload #####

- A class *pre*loader for restoring objects in session.

##### Piece_Unity_Session #####

- Added a feature to preload for restoring objects.

##### Piece_Unity_Plugin_Factory #####

- Added clearInstances() to clear the plug-in instances.

##### Piece_Unity_Error #####

- Added a constant PIECE_UNITY_ERROR_UNEXPECTED_VALUE.
- Added a constant PIECE_UNITY_ERROR_INVALID_OPERATION.

### Plug-ins ###

##### Interceptor_Authentication #####

- An interceptor to control the access to protected resources on Piece_Unity applications.

##### Renderer_JSON #####

- A renderer to output view elements as JSON.

##### Controller #####

- Changed to skip dispatcher when context has already view contents.

##### View #####

- Added a feature to replace the current view with a view which is given by a new configuration point forcedView.
- Added a built-in view element __url which is a Piece_Unity_URL object.

##### KernelConfigurator #####

- Added to preload Dispatcher_Continuation plug-in for restoring action instances in session.
- Added a configuration point nonSSLableServers to make a list of non-SSLable servers.

##### Dispatcher_Continuation #####

- Added a feature to store the action instances as a flow attribute in a flow execution, and restore the action instances when continuing the flow execution.
- Removed the configuration point sessionKey.
- Added getContinuationSessionKey() to get the session key for a continuation object.

##### Renderer_HTML #####

- An abstract renderer which is used to render HTML.

##### Renderer_Flexy, Renderer_PHP, Renderer_Smarty #####

- Added a feature to reuse shared html layout across multiple pages. (Ticket #2)

##### Controller, Dispatcher_Continuation #####

- Updated to publish the Piece_Flow_Continuation object as a view element if it exists even though what the specified dispatcher is. And the flow execution ticket key and the flow name key have always been available as each view element. (Ticket #26)

##### Renderer_Redirection #####

- Removed getURL().

### Example Applications ###

- Restructured applications with new features.</notes>
  </release>
  <release>
   <version>
    <release>0.8.0</release>
    <api>0.7.0</api>
   </version>
   <stability>
    <release>beta</release>
    <api>beta</api>
   </stability>
   <date>2006-10-17</date>
   <license uri="http://www.opensource.org/licenses/bsd-license.php">BSD License (revised)</license>
   <notes>This is the first release of Piece_Unity with the new PEAR Channel Server pear.piece-framework.com.

This release includes a few enhancements of the validation system. See the following release notes for details.

## Enhancements ##

### Kernel ###

##### Piece_Unity_Validation #####
- Added getResults() method for getting the Piece_Right_Results object of the latest validation.
- Added setting the Piece_Right_Results object to the current flow scope when the continuation server is running.
- Refactored validate() method using Piece_Right_Validation_Script class.
- Added addValidatorDirectory()/addFilterDirectory() methods.

### Plug-ins ###

##### KernelConfigurator #####
- Added Piece_Right_Results class to the array for autoloading.
- Added missing two configuration points validationValidatorDirectories and validationFilterDirectories, and their processes, which had existed in Interceptor_PieceRight plug-in.</notes>
  </release>
  <release>
   <version>
    <release>0.7.0</release>
    <api>0.7.0</api>
   </version>
   <stability>
    <release>beta</release>
    <api>beta</api>
   </stability>
   <date>2006-09-16</date>
   <license uri="http://www.opensource.org/licenses/bsd-license.php">BSD License (revised)</license>
   <notes>This release includes built-in validation system with Piece_Right integration, and a few improvement of Renderer_Redirection plug-in. See the following release notes for details.

Note: Interceptor_PieceRight plug-in has been deprecated. It will be removed in the next release.

## Enhancements ##

### Kernel ###

##### Piece_Unity_Validation #####
- The validation class for Piece_Unity applications. This class is available from this release.

##### Piece_Unity_Context #####
- Added a new method getValidation() for getting the Piece_Unity_Validation object for the current request.

### Plug-ins ###

##### Renderer_Redirection #####
- Added support for redirections with direct access to backend servers when HTTPS protocol is given as a view string.
- Added support for redirections with other proxy servers.
- Changed the code so as to add session ID to the query string only if the URL is internal.
- Added a new configuration point addFlowExecutionTicket to add flow execution ticket to the query string.

##### KernelConfigurator #####
- Added two configuration points validationConfigDirectory and validationCacheDirectory for setting the configuration directory and the cache directory for validations.

### Example Applications ###

- Removed XML declarations.
- Changed the code so as to use built-in validation instead of Interceptor_PieceRight plug-in.</notes>
  </release>
  <release>
   <version>
    <release>0.6.0</release>
    <api>0.6.0</api>
   </version>
   <stability>
    <release>beta</release>
    <api>beta</api>
   </stability>
   <date>2006-08-19</date>
   <license uri="http://www.opensource.org/licenses/bsd-license.php">BSD License (revised)</license>
   <notes>This release includes a lot of enhancements and a few defect fixes as follows:

## Enhancements ##

### Kernel ###

##### Piece_Unity_Context #####
- Added support for context attributes.
- Added setProxyPath() method for setting the proxy path if the application uses proxy servers.
- Added getProxyPath() method for getting the proxy path of the application.
- Added usingProxy() method for checking whether the application is accessed via reverse proxies.
- Added setContinuation()/getContinuation() methods for setting/getting the Piece_Flow_Continuation object for the current session.

##### Piece_Unity_Plugin_Common #####
- Added _initialize() method as a template method, and changed the code so as to call it in the constructor.

### Plug-ins ###

##### Interceptor_PieceRight #####
- An interceptor to set a Piece_Right object to the current application context.

##### OutputBufferStack #####
- Added support for PHP built-in functions.

##### Dispatcher_Simple #####
- Added error handling when include_once fail.

##### Interceptor_ProxyBasePath #####
- Changed the code so as to use Piece_Unity_Context::usingProxy() and Piece_Unity_Context::getProxyPath() methods instead of _useProxy() method and &apos;path&apos; configuration point.
- Removed _useProxy() method.
- Removed &apos;path&apos; configuration point.

##### KernelConfigurator #####
- Added &apos;proxyPath&apos; configuratin point for setting the proxy path of applications.

##### Renderer_Redirection #####
- A renderer which is used to redirect requests.

##### View #####
- Added the code to overwrite the extension &apos;renderer&apos; if the view string start with http(s)://.

##### Dispatcher_Continuation #####
- Added the code to set the Piece_Flow_Continuation object to the current context.

##### Interceptor_NullByteAttackPreventation #####
- An interceptor to prevent Null Byte Attack for applications.

##### OutputFilter_JapaneseZ2H #####
- An output filter which can be used to converts Japanese JIS X0208 kana to JIS X0201 kana.

## Example Applications ##

- Updated and improved the design.
- Removed the mailto: link to my e-mail address.
- Changed my e-mail address.
- Introduced form validation using Piece_Right.
- Adjusted to the new interface of Piece_Flow actions.

## Defect Fixes ##

### Kernel ###

##### Piece_Unity_Context #####
- Fixed the problem that an event is ignored when the event name includes the characters other than letters or numbers.

## Plug-ins ##

##### Dispatcher_Continuation #####
- Removed wrong error handling which disables the current callback.

##### OutputBufferStack #####
- Changed the code to prevent strange behaviour.</notes>
  </release>
  <release>
   <version>
    <release>0.5.0</release>
    <api>0.5.0</api>
   </version>
   <stability>
    <release>beta</release>
    <api>beta</api>
   </stability>
   <date>2006-07-15</date>
   <license uri="http://www.opensource.org/licenses/bsd-license.php">BSD License (revised)</license>
   <notes>This release includes a lot of enhancements and fixing two problems as follows:

## Enhancements ##

### Kernel ###

##### Piece_Unity #####
- invoke(): Changed the return value to null.

##### Piece_Unity_Plugin_Common #####
- getExtension(): Changed code so as to immediately return when an extension is false or an array.
- Removed unused statements.

##### Piece_Unity_Context #####
- Added setBasePath() method for setting the base path of the current request.
- Added setScriptName() method for setting the script name of the current request.
- Renamed the method from getBaseURLPath() to getBasePath().
- Renamed the method from getBaseURL() to getScriptName().

### Plug-ins ###

##### Interceptor_ProxyBasePath #####
- An interceptor to adjust the base path and the script name of the current request which are held in the Piece_Unity_Context object. This interceptor is used and only works when your web servers are used as reverse proxies.

##### Interceptor_SessionStart #####
- An interceptor to start session automatically.

##### Root #####
- Removed code to start a session.

##### OutputBufferStack #####
- Changed code so as to immediately return when the extension is not an array.
- Added error handling.

##### InterceptorChain #####
- Changed the default value of &apos;interceptors&apos; extension point to the array which only includes &apos;Interceptor_SessionStart&apos; plug-in.
- Changed code so as to immediately return when the extension is not an array.
- Added error handling.

##### KernelConfigurator #####
- Added &apos;pluginDirectories&apos; configuration point for setting plug-in directories.
- Added error handling.

##### View #####
- Added the current session name and the current session id as view elements __sessionName and __sessionID.

## Example Applications ##

- Updated and improved.
- Changed the event names in the action states.

## Defect Fixes ##

### Kernel ###

##### Piece_Unity_Context #####
- Fixed the problem that slashes are replaced with backslashes.
- Fixed the problem where the base path and the script name include the starting slash with Apache 2.0.58 on Windows.</notes>
  </release>
  <release>
   <version>
    <release>0.4.0</release>
    <api>0.4.0</api>
   </version>
   <stability>
    <release>beta</release>
    <api>beta</api>
   </stability>
   <date>2006-07-12</date>
   <license uri="http://www.opensource.org/licenses/bsd-license.php">BSD License (revised)</license>
   <notes>This release includes a lot of enhancements as follows:

## Enhancements ##

##### Piece_Unity #####
- Added properties $_configDirectory, $_cacheDirectory, and $_dynamicConfig to use after instantiation.

##### Piece_Unity_Config #####
- Removed methods setConfigurationDirectory(), setCacheDirectory(), getConfigurationDirectory(), getCacheDirectory(), getError(), isMergedExtensionPoint(), isMergedConfigurationPoint().

##### Piece_Unity_Error #####
- pushPHPError(): Added logic to return immediately with the current value of error_reporting() function.

##### Piece_Unity_Request #####
- Added support for importing the PATH_INFO string as parameters.

##### Piece_Unity_ViewElement #####
- Added getElement() method for getting elements.
- Added hasElement() method for checking whether the object has an element with a given name.

##### Root #####
- Added &apos;interceptor&apos; extension point.
- Added &apos;outputFilter&apos; extension point.
- Added &apos;controller&apos; extension point.
- Removed &apos;dispatcher&apos; and &apos;view&apos; extension points.

##### Controller #####
- A controller which delegates requests to appropriate dispatchers and fowards requests to the view handler.

##### InterceptorChain #####
- An interceptor which invokes all interceptors.

##### OutputBufferStack #####
- An output filter which turns output buffering on, and registers all output handlers.

##### OutputFilter_ContentLength #####
- An output filter which outputs Content-Legnth header.

##### Renderer_Smarty #####
- Changed error handling so as to be thrown any errors as exception except non-existing templates.</notes>
  </release>
  <release>
   <version>
    <release>0.3.0</release>
    <api>0.2.0</api>
   </version>
   <stability>
    <release>beta</release>
    <api>beta</api>
   </stability>
   <date>2006-07-08</date>
   <license uri="http://www.opensource.org/licenses/bsd-license.php">BSD License (revised)</license>
   <notes>This release includes a few enhancements and fixing a problem as follows:

## Enhancements ##

##### Renderer_Flexy #####
- Added a configuration point &apos;debug&apos; to display debugging information.
- Changed error handling so as to be thrown any errors as &apos;exception&apos; except non-existing template.

## Example Applications ##
- Set the cache directory for Piece_Unity configurations and Piece_Flow flow definitions.

## Defect Fixes ##

- Fixed the problem that relative path cannot be used as the cache directory and action cirectory with Solaris.</notes>
  </release>
  <release>
   <version>
    <release>0.2.0</release>
    <api>0.2.0</api>
   </version>
   <stability>
    <release>beta</release>
    <api>beta</api>
   </stability>
   <date>2006-07-06</date>
   <license uri="http://www.opensource.org/licenses/bsd-license.php">BSD License (revised)</license>
   <notes>The first beta release of Piece_Unity.</notes>
  </release>
  <release>
   <version>
    <release>0.1.0</release>
    <api>0.1.0</api>
   </version>
   <stability>
    <release>alpha</release>
    <api>alpha</api>
   </stability>
   <date>2006-06-21</date>
   <license uri="http://www.opensource.org/licenses/bsd-license.php">BSD License (revised)</license>
   <notes>The first alpha release of Piece_Unity.</notes>
  </release>
 </changelog>
</package>
