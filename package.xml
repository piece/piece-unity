<?xml version="1.0" encoding="UTF-8" ?>
<!-- $Id$ -->
<!DOCTYPE package SYSTEM "http://pear.php.net/dtd/package-1.0">
<package version="1.0" packagerversion="1.5.0">
 <name>Piece_Unity</name>
 <summary>A stateful and secure web application framework for PHP</summary>
 <description>Piece_Unity is a stateful and secure web application framework for PHP.

Piece_Unity is a framework against the background of layered architecture, as of now, focuses on the presentation layer.

Piece_Unity allows stateful programming without thinking about sessions by storing and restoring states with a technology known as continuation server. It also provides high security and eases the burden of implementing security measures for applications by application flow control.
 </description>
 <maintainers>
  <maintainer>
   <user>iteman</user>
   <name>KUBO Atsuhiro</name>
   <email>iteman@users.sourceforge.net</email>
   <role>lead</role>
  </maintainer>
  <maintainer>
   <user>csakatoku</user>
   <name>Chihiro Sakatoku</name>
   <email>csakatoku@users.sourceforge.net</email>
   <role>developer</role>
  </maintainer>
  <maintainer>
   <user>kumatch</user>
   <name>KUMAKURA Yousuke</name>
   <email>kumatch@users.sourceforge.net</email>
   <role>developer</role>
  </maintainer>
  </maintainers>
 <release>
  <version>0.11.0</version>
  <date>2007-02-19</date>
  <license>BSD License (revised)</license>
  <state>beta</state>
  <notes>Hi all,

A new release of Piece_Unity is now available.

This release includes a feature named &quot;Fallback View&quot; which can be used for rendering a fallback view if an error occured while rendering with a specified view, and a feature named &quot;Plug-in Aliases&quot; which can be used multiple aliases as the name of a plug-in class by setting multiple prefixes.

Also this release includes a new plug-in &quot;ConfiguratorChain&quot; so that it can invoke multiple configurators. In the release after next, &quot;ConfiguratorChain&quot; will become the default configurator instead of &quot;KernelConfigurator&quot;.

And also other enhancements and two fixes are included. See the following release notes for details.

## Enhancements ##

### Kernel ###

##### Piece_Unity_Plugin_Factory #####

- Added a feature named &quot;Plug-in Aliases&quot; so that this feature can be used multiple aliases as the name of a plug-in class by setting multiple prefixes. (Ticket #40)

##### Piece_Unity_URL #####

- Added removeQueryString() to remove a name/value pair from the query string.

### Plug-ins ###

##### Renderer_Flexy, Renderer_HTML, Renderer_PHP, Renderer_Smarty #####

- Added a feature named &quot;Fallback View&quot;. (Ticket #37)
  If an error occured while rendering with a specified view and useFallback is true, a fallback view will be rendered.

##### KernelConfigurator #####

- Added a configuration point &quot;pluginPrefixes&quot; for using &quot;Plug-in Aliases&quot;.
- Added two configuration point &quot;validationValidatorPrefixes&quot; and &quot;validationFilterPrefixes&quot; for using &quot;Validator Aliases&quot; and &quot;Filter Aliases&quot;. (Ticket #43)

##### Renderer_Redirection #####

- Added a feature so that __eventNameKey is replaced with the event name key. (Ticket #38)

##### View #####

- Added a feature named &quot;Self Notation&quot; for redirection to an entry point itself. (Ticket #39)

##### ConfiguratorChain, Configurator_Env, Configurator_Event, Configurator_Plugin, Configurator_Request, Configurator_Validation #####

- Added a new plug-in &quot;ConfiguratorChain&quot; so that it can invoke multiple configurators. (Ticket #45)
  In the release after next, &quot;ConfiguratorChain&quot; will become the default configurator instead of &quot;KernelConfigurator&quot;.

### Example Applications ###

- Changed so as to use of ConfigurationChain.

## Defect Fixes ##

### Kernel ###

##### Piece_Unity_URL #####

- Fixed the problem so that EZweb mobile phone cannot redirect with Renderer_Redirection plug-in. (Ticket #44)

### Plug-ins ###

##### Renderer_Redirection #####

- Fixed the problem that the renderer cannot redirect to HTTPS URL.
  </notes>
  <deps>
   <dep type="php" rel="ge" version="4.3.0" optional="no"/>
   <dep type="pkg" rel="ge" version="1.8.0" optional="no">Piece_Flow</dep>
   <dep type="pkg" rel="ge" version="1.7.0" optional="no">Cache_Lite</dep>
   <dep type="pkg" rel="ge" version="1.4.3" optional="no">PEAR</dep>
   <dep type="pkg" rel="ge" version="1.0.14" optional="no">Net_URL</dep>
   <dep type="pkg" rel="ge" version="1.5.0" optional="no">Piece_Right</dep>
   <dep type="pkg" rel="ge" version="0.4.0" optional="yes">Stagehand_TestRunner</dep>
   <dep type="pkg" rel="ge" version="1.2.4" optional="yes">HTML_Template_Flexy</dep>
   <dep type="pkg" rel="ge" version="1.6.8" optional="yes">Smarty</dep>
   <dep type="pkg" rel="ge" version="0.5.0" optional="yes">HTML_AJAX</dep>
   <dep type="ext" rel="has" optional="yes">json</dep>
  </deps>
  <filelist>
   <dir name="/" baseinstalldir="/">
    <dir name="data">
     <dir name="examples">
      <dir name="htdocs">
       <dir name="css">
        <file role="data" name="default.css">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
       </dir> <!-- /data/examples/htdocs/css -->
       <dir name="images">
        <file role="data" name="bg.gif">
        </file>
        <file role="data" name="date_icon.gif">
        </file>
        <file role="data" name="piece_footer.jpg">
        </file>
        <file role="data" name="piece_header.jpg">
        </file>
        <file role="data" name="quotes.gif">
        </file>
       </dir> <!-- /data/examples/htdocs/images -->
       <dir name="js">
        <file role="data" name="ahah.js">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="data" name="window_operation.js">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
       </dir> <!-- /data/examples/htdocs/js -->
       <file role="data" name="authenticate.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="data" name="index.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="data" name="protected-resource.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="data" name="register-with-exclusive-mode-and-ahah.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="data" name="register-with-exclusive-mode.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="data" name="register-with-non-exclusive-mode.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
      </dir> <!-- /data/examples/htdocs -->
      <dir name="webapp">
       <dir name="actions">
        <file role="data" name="AuthenticationAction.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="data" name="IndexAction.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="data" name="ProtectedResourceAction.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="data" name="RegistrationAction.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
       </dir> <!-- /data/examples/webapp/actions -->
       <dir name="cache">
        <dir name="flows">
         <file role="data" name="README">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /data/examples/webapp/cache/flows -->
        <dir name="validations">
         <file role="data" name="README">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /data/examples/webapp/cache/validations -->
        <file role="data" name="README">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
       </dir> <!-- /data/examples/webapp/cache -->
       <dir name="compiled-templates">
        <file role="data" name="README">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
       </dir> <!-- /data/examples/webapp/compiled-templates -->
       <dir name="config">
        <dir name="flows">
         <file role="data" name="Authentication.yaml">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="data" name="ProtectedResource.yaml">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="data" name="Registration.yaml">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /data/examples/webapp/config/flows -->
        <dir name="validations">
         <file role="data" name="Authentication.yaml">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="data" name="Registration.yaml">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /data/examples/webapp/config/validations -->
        <file role="data" name="piece-unity-config.yaml">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
       </dir> <!-- /data/examples/webapp/config -->
       <dir name="sessions">
        <file role="data" name="README">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
       </dir> <!-- /data/examples/webapp/sessions -->
       <dir name="templates">
        <dir name="Authentication">
         <file role="data" name="Finish.html">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="data" name="Form.html">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="data" name="Home.html">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /data/examples/webapp/templates/Authentication -->
        <dir name="Layout">
         <file role="data" name="Layout.html">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /data/examples/webapp/templates/Layout -->
        <dir name="ProtectedResource">
         <file role="data" name="A.html">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="data" name="B.html">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="data" name="C.html">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /data/examples/webapp/templates/ProtectedResource -->
        <dir name="Registration">
         <file role="data" name="Confirmation.html">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="data" name="Finish.html">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="data" name="Form.html">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /data/examples/webapp/templates/Registration -->
        <dir name="Static">
         <file role="data" name="Index.html">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /data/examples/webapp/templates/Static -->
       </dir> <!-- /data/examples/webapp/templates -->
      </dir> <!-- /data/examples/webapp -->
     </dir> <!-- /data/examples -->
     <dir name="js">
      <file role="data" name="ahah.js">
       <replace from="@package_version@" to="version" type="package-info"/>
      </file>
     </dir> <!-- /data/js -->
     <file role="data" name="piece-unity-config.yaml">
      <replace from="@package_version@" to="version" type="package-info"/>
     </file>
     <file role="data" name="piece-unity.yaml">
      <replace from="@package_version@" to="version" type="package-info"/>
     </file>
    </dir> <!-- /data -->
    <dir name="docs">
     <file role="doc" name="LICENSE">
      <replace from="@package_version@" to="version" type="package-info"/>
     </file>
    </dir> <!-- /docs -->
    <dir name="Piece">
     <dir name="Unity">
      <dir name="Config">
       <file role="php" name="Factory.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
      </dir> <!-- /Piece/Unity/Config -->
      <dir name="Plugin">
       <dir name="Configurator">
        <file role="php" name="Env.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="php" name="Event.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="php" name="Plugin.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="php" name="Request.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="php" name="Validation.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
       </dir> <!-- /Piece/Unity/Plugin/Configurator -->
       <dir name="Dispatcher">
        <file role="php" name="Continuation.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="php" name="Simple.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
       </dir> <!-- /Piece/Unity/Plugin/Dispatcher -->
       <dir name="Interceptor">
        <file role="php" name="Authentication.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="php" name="NullByteAttackPreventation.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="php" name="ProxyBasePath.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="php" name="SessionStart.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
       </dir> <!-- /Piece/Unity/Plugin/Interceptor -->
       <dir name="OutputFilter">
        <file role="php" name="ContentLength.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="php" name="JapaneseZ2H.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
       </dir> <!-- /Piece/Unity/Plugin/OutputFilter -->
       <dir name="Renderer">
        <file role="php" name="Flexy.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="php" name="HTML.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="php" name="JSON.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="php" name="PHP.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="php" name="Redirection.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="php" name="Smarty.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
       </dir> <!-- /Piece/Unity/Plugin/Renderer -->
       <file role="php" name="Common.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="php" name="ConfiguratorChain.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="php" name="Controller.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="php" name="Factory.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="php" name="InterceptorChain.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="php" name="KernelConfigurator.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="php" name="OutputBufferStack.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="php" name="Root.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="php" name="View.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
      </dir> <!-- /Piece/Unity/Plugin -->
      <dir name="Session">
       <file role="php" name="Preload.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
      </dir> <!-- /Piece/Unity/Session -->
      <file role="php" name="Config.php">
       <replace from="@package_version@" to="version" type="package-info"/>
      </file>
      <file role="php" name="Context.php">
       <replace from="@package_version@" to="version" type="package-info"/>
      </file>
      <file role="php" name="Error.php">
       <replace from="@package_version@" to="version" type="package-info"/>
      </file>
      <file role="php" name="Request.php">
       <replace from="@package_version@" to="version" type="package-info"/>
      </file>
      <file role="php" name="Session.php">
       <replace from="@package_version@" to="version" type="package-info"/>
      </file>
      <file role="php" name="URL.php">
       <replace from="@package_version@" to="version" type="package-info"/>
      </file>
      <file role="php" name="Validation.php">
       <replace from="@package_version@" to="version" type="package-info"/>
      </file>
      <file role="php" name="ViewElement.php">
       <replace from="@package_version@" to="version" type="package-info"/>
      </file>
     </dir> <!-- /Piece/Unity -->
     <file role="php" name="Unity.php">
      <replace from="@package_version@" to="version" type="package-info"/>
     </file>
    </dir> <!-- /Piece -->
    <dir name="tests">
     <dir name="Piece">
      <dir name="Unity">
       <dir name="Config">
        <dir name="FactoryTestCase">
         <file role="test" name="piece-unity-config.yaml">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /tests/Piece/Unity/Config/FactoryTestCase -->
        <file role="test" name="FactoryTestCase.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="test" name="TestRunner.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
       </dir> <!-- /tests/Piece/Unity/Config -->
       <dir name="Plugin">
        <dir name="Configurator">
         <dir name="PluginTestCase">
          <dir name="PluginTestCaseAlias">
           <file role="test" name="Bar.php">
            <replace from="@package_version@" to="version" type="package-info"/>
           </file>
           <file role="test" name="Foo.php">
            <replace from="@package_version@" to="version" type="package-info"/>
           </file>
          </dir> <!-- /tests/Piece/Unity/Plugin/Configurator/PluginTestCase/PluginTestCaseAlias -->
         </dir> <!-- /tests/Piece/Unity/Plugin/Configurator/PluginTestCase -->
         <dir name="ValidationTestCase">
          <dir name="ValidationTestCaseAlias">
           <file role="test" name="HelloWorld.php">
            <replace from="@package_version@" to="version" type="package-info"/>
           </file>
           <file role="test" name="LowerCase.php">
            <replace from="@package_version@" to="version" type="package-info"/>
           </file>
          </dir> <!-- /tests/Piece/Unity/Plugin/Configurator/ValidationTestCase/ValidationTestCaseAlias -->
          <file role="test" name="Authentication.yaml">
           <replace from="@package_version@" to="version" type="package-info"/>
          </file>
         </dir> <!-- /tests/Piece/Unity/Plugin/Configurator/ValidationTestCase -->
         <file role="test" name="EnvTestCase.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="EventTestCase.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="PluginTestCase.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="RequestTestCase.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="TestRunner.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="ValidationTestCase.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /tests/Piece/Unity/Plugin/Configurator -->
        <dir name="ConfiguratorChainTestCase">
         <file role="test" name="FirstConfigurator.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="SecondConfigurator.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /tests/Piece/Unity/Plugin/ConfiguratorChainTestCase -->
        <dir name="Dispatcher">
         <file role="test" name="ContinuationTestCase.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="ContinuationValidation.yaml">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="ContinuationValidationAction.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="Counter.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="Counter.yaml">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="CounterAction.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="SimpleExampleAction.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="SimpleTestCase.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="SimpleValidationAction.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="TestRunner.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="Validation.yaml">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /tests/Piece/Unity/Plugin/Dispatcher -->
        <dir name="FactoryTestCase">
         <dir name="FactoryTestCaseAlias">
          <dir name="FactoryTestCase">
           <file role="test" name="Foo.php">
            <replace from="@package_version@" to="version" type="package-info"/>
           </file>
          </dir> <!-- /tests/Piece/Unity/Plugin/FactoryTestCase/FactoryTestCaseAlias/FactoryTestCase -->
          <file role="test" name="Bar.php">
           <replace from="@package_version@" to="version" type="package-info"/>
          </file>
          <file role="test" name="Foo.php">
           <replace from="@package_version@" to="version" type="package-info"/>
          </file>
         </dir> <!-- /tests/Piece/Unity/Plugin/FactoryTestCase/FactoryTestCaseAlias -->
         <dir name="Piece">
          <dir name="Unity">
           <dir name="Plugin">
            <dir name="FactoryTestCase">
             <file role="test" name="Bar.php">
              <replace from="@package_version@" to="version" type="package-info"/>
             </file>
             <file role="test" name="Foo.php">
              <replace from="@package_version@" to="version" type="package-info"/>
             </file>
             <file role="test" name="Invalid.php">
              <replace from="@package_version@" to="version" type="package-info"/>
             </file>
            </dir> <!-- /tests/Piece/Unity/Plugin/FactoryTestCase/Piece/Unity/Plugin/FactoryTestCase -->
           </dir> <!-- /tests/Piece/Unity/Plugin/FactoryTestCase/Piece/Unity/Plugin -->
          </dir> <!-- /tests/Piece/Unity/Plugin/FactoryTestCase/Piece/Unity -->
         </dir> <!-- /tests/Piece/Unity/Plugin/FactoryTestCase/Piece -->
         <file role="test" name="Bar.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /tests/Piece/Unity/Plugin/FactoryTestCase -->
        <dir name="Interceptor">
         <file role="test" name="AuthenticationCheckerOne.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="AuthenticationCheckerThree.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="AuthenticationCheckerTwo.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="AuthenticationTestCase.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="First.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="NullByteAttackPreventationTestCase.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="ProxyBasePathTestCase.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="Second.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="SessionStartTestCase.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="TestRunner.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /tests/Piece/Unity/Plugin/Interceptor -->
        <dir name="KernelConfiguratorTestCase">
         <dir name="KernelConfiguratorTestCaseAlias">
          <file role="test" name="FooFilter.php">
           <replace from="@package_version@" to="version" type="package-info"/>
          </file>
          <file role="test" name="FooPlugin.php">
           <replace from="@package_version@" to="version" type="package-info"/>
          </file>
          <file role="test" name="FooValidator.php">
           <replace from="@package_version@" to="version" type="package-info"/>
          </file>
         </dir> <!-- /tests/Piece/Unity/Plugin/KernelConfiguratorTestCase/KernelConfiguratorTestCaseAlias -->
         <dir name="Piece">
          <dir name="Right">
           <dir name="Filter">
            <file role="test" name="LowerCase.php">
             <replace from="@package_version@" to="version" type="package-info"/>
            </file>
           </dir> <!-- /tests/Piece/Unity/Plugin/KernelConfiguratorTestCase/Piece/Right/Filter -->
           <dir name="Validator">
            <file role="test" name="HelloWorld.php">
             <replace from="@package_version@" to="version" type="package-info"/>
            </file>
           </dir> <!-- /tests/Piece/Unity/Plugin/KernelConfiguratorTestCase/Piece/Right/Validator -->
          </dir> <!-- /tests/Piece/Unity/Plugin/KernelConfiguratorTestCase/Piece/Right -->
          <dir name="Unity">
           <dir name="Plugin">
            <dir name="KernelConfiguratorTestCase">
             <file role="test" name="Bar.php">
              <replace from="@package_version@" to="version" type="package-info"/>
             </file>
             <file role="test" name="Foo.php">
              <replace from="@package_version@" to="version" type="package-info"/>
             </file>
            </dir> <!-- /tests/Piece/Unity/Plugin/KernelConfiguratorTestCase/Piece/Unity/Plugin/KernelConfiguratorTestCase -->
           </dir> <!-- /tests/Piece/Unity/Plugin/KernelConfiguratorTestCase/Piece/Unity/Plugin -->
          </dir> <!-- /tests/Piece/Unity/Plugin/KernelConfiguratorTestCase/Piece/Unity -->
         </dir> <!-- /tests/Piece/Unity/Plugin/KernelConfiguratorTestCase/Piece -->
         <file role="test" name="Authentication.yaml">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="AutoloadClass.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /tests/Piece/Unity/Plugin/KernelConfiguratorTestCase -->
        <dir name="OutputFilter">
         <file role="test" name="First.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="Second.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /tests/Piece/Unity/Plugin/OutputFilter -->
        <dir name="Renderer">
         <dir name="FlexyTestCase">
          <dir name="actions">
           <file role="test" name="FlexyExampleAction.php">
            <replace from="@package_version@" to="version" type="package-info"/>
           </file>
          </dir> <!-- /tests/Piece/Unity/Plugin/Renderer/FlexyTestCase/actions -->
          <dir name="templates">
           <dir name="Content">
            <file role="test" name="FlexyAutomaticFormElements.html">
             <replace from="@package_version@" to="version" type="package-info"/>
            </file>
            <file role="test" name="FlexyBuiltinElements.html">
             <replace from="@package_version@" to="version" type="package-info"/>
            </file>
            <file role="test" name="FlexyExample.html">
             <replace from="@package_version@" to="version" type="package-info"/>
            </file>
            <file role="test" name="FlexyKeepingReference.html">
             <replace from="@package_version@" to="version" type="package-info"/>
            </file>
            <file role="test" name="FlexyLayoutContent.html">
             <replace from="@package_version@" to="version" type="package-info"/>
            </file>
           </dir> <!-- /tests/Piece/Unity/Plugin/Renderer/FlexyTestCase/templates/Content -->
           <dir name="Fallback">
            <file role="test" name="Fallback.html">
             <replace from="@package_version@" to="version" type="package-info"/>
            </file>
           </dir> <!-- /tests/Piece/Unity/Plugin/Renderer/FlexyTestCase/templates/Fallback -->
           <dir name="Layout">
            <file role="test" name="FlexyLayout.html">
             <replace from="@package_version@" to="version" type="package-info"/>
            </file>
           </dir> <!-- /tests/Piece/Unity/Plugin/Renderer/FlexyTestCase/templates/Layout -->
          </dir> <!-- /tests/Piece/Unity/Plugin/Renderer/FlexyTestCase/templates -->
         </dir> <!-- /tests/Piece/Unity/Plugin/Renderer/FlexyTestCase -->
         <dir name="PHPTestCase">
          <dir name="actions">
           <file role="test" name="PHPExampleAction.php">
            <replace from="@package_version@" to="version" type="package-info"/>
           </file>
          </dir> <!-- /tests/Piece/Unity/Plugin/Renderer/PHPTestCase/actions -->
          <dir name="templates">
           <dir name="Content">
            <file role="test" name="PHPBuiltinElements.php">
             <replace from="@package_version@" to="version" type="package-info"/>
            </file>
            <file role="test" name="PHPExample.php">
             <replace from="@package_version@" to="version" type="package-info"/>
            </file>
            <file role="test" name="PHPKeepingReference.php">
             <replace from="@package_version@" to="version" type="package-info"/>
            </file>
            <file role="test" name="PHPLayoutContent.php">
             <replace from="@package_version@" to="version" type="package-info"/>
            </file>
           </dir> <!-- /tests/Piece/Unity/Plugin/Renderer/PHPTestCase/templates/Content -->
           <dir name="Fallback">
            <file role="test" name="Fallback.php">
             <replace from="@package_version@" to="version" type="package-info"/>
            </file>
           </dir> <!-- /tests/Piece/Unity/Plugin/Renderer/PHPTestCase/templates/Fallback -->
           <dir name="Layout">
            <file role="test" name="PHPLayout.php">
             <replace from="@package_version@" to="version" type="package-info"/>
            </file>
           </dir> <!-- /tests/Piece/Unity/Plugin/Renderer/PHPTestCase/templates/Layout -->
          </dir> <!-- /tests/Piece/Unity/Plugin/Renderer/PHPTestCase/templates -->
         </dir> <!-- /tests/Piece/Unity/Plugin/Renderer/PHPTestCase -->
         <dir name="SmartyTestCase">
          <dir name="actions">
           <file role="test" name="SmartyExampleAction.php">
            <replace from="@package_version@" to="version" type="package-info"/>
           </file>
          </dir> <!-- /tests/Piece/Unity/Plugin/Renderer/SmartyTestCase/actions -->
          <dir name="templates">
           <dir name="Content">
            <file role="test" name="SmartyBuiltinElements.tpl">
             <replace from="@package_version@" to="version" type="package-info"/>
            </file>
            <file role="test" name="SmartyExample.tpl">
             <replace from="@package_version@" to="version" type="package-info"/>
            </file>
            <file role="test" name="SmartyKeepingReference.tpl">
             <replace from="@package_version@" to="version" type="package-info"/>
            </file>
            <file role="test" name="SmartyLayoutContent.tpl">
             <replace from="@package_version@" to="version" type="package-info"/>
            </file>
           </dir> <!-- /tests/Piece/Unity/Plugin/Renderer/SmartyTestCase/templates/Content -->
           <dir name="Fallback">
            <file role="test" name="Fallback.tpl">
             <replace from="@package_version@" to="version" type="package-info"/>
            </file>
           </dir> <!-- /tests/Piece/Unity/Plugin/Renderer/SmartyTestCase/templates/Fallback -->
           <dir name="Layout">
            <file role="test" name="SmartyLayout.tpl">
             <replace from="@package_version@" to="version" type="package-info"/>
            </file>
           </dir> <!-- /tests/Piece/Unity/Plugin/Renderer/SmartyTestCase/templates/Layout -->
          </dir> <!-- /tests/Piece/Unity/Plugin/Renderer/SmartyTestCase/templates -->
         </dir> <!-- /tests/Piece/Unity/Plugin/Renderer/SmartyTestCase -->
         <file role="test" name="FlexyTestCase.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="HTMLCompatibilityTest.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="JSONTestCase.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="PHPTestCase.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="RedirectionTestCase.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="SmartyTestCase.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="TestRunner.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /tests/Piece/Unity/Plugin/Renderer -->
        <file role="test" name="ConfiguratorChainTestCase.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="test" name="FactoryTestCase.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="test" name="InterceptorChainTestCase.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="test" name="KernelConfiguratorTestCase.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="test" name="OutputBufferStackTestCase.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="test" name="RelativePathVulnerability.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="test" name="RelativePathVulnerabilityAction.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="test" name="TestRunner.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="test" name="ViewTestCase.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
       </dir> <!-- /tests/Piece/Unity/Plugin -->
       <dir name="SessionTestCase">
        <file role="test" name="AutoloadClass.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="test" name="Foo.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="test" name="Loader.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
       </dir> <!-- /tests/Piece/Unity/SessionTestCase -->
       <dir name="ValidationTestCase">
        <dir name="Piece">
         <dir name="Right">
          <dir name="Validator">
           <file role="test" name="PayloadTest.php">
            <replace from="@package_version@" to="version" type="package-info"/>
           </file>
          </dir> <!-- /tests/Piece/Unity/ValidationTestCase/Piece/Right/Validator -->
         </dir> <!-- /tests/Piece/Unity/ValidationTestCase/Piece/Right -->
        </dir> <!-- /tests/Piece/Unity/ValidationTestCase/Piece -->
        <file role="test" name="Authentication.yaml">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
       </dir> <!-- /tests/Piece/Unity/ValidationTestCase -->
       <file role="test" name="ConfigTestCase.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="test" name="ContextTestCase.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="test" name="RequestTestCase.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="test" name="SessionTestCase.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="test" name="TestRunner.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="test" name="URLTestCase.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="test" name="ValidationTestCase.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="test" name="ViewElementTestCase.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
      </dir> <!-- /tests/Piece/Unity -->
      <file role="test" name="TestRunner.php">
       <replace from="@package_version@" to="version" type="package-info"/>
      </file>
      <file role="test" name="UnityTestCase.php">
       <replace from="@package_version@" to="version" type="package-info"/>
      </file>
     </dir> <!-- /tests/Piece -->
     <file role="test" name="AllTestRunner.php">
      <replace from="@package_version@" to="version" type="package-info"/>
     </file>
    </dir> <!-- /tests -->
   </dir> <!-- / -->
  </filelist>
 </release>
 <changelog>
   <release>
    <version>0.11.0</version>
    <date>2007-02-19</date>
    <license>BSD License (revised)</license>
    <state>beta</state>
    <notes>Hi all,

A new release of Piece_Unity is now available.

This release includes a feature named &quot;Fallback View&quot; which can be used for rendering a fallback view if an error occured while rendering with a specified view, and a feature named &quot;Plug-in Aliases&quot; which can be used multiple aliases as the name of a plug-in class by setting multiple prefixes.

Also this release includes a new plug-in &quot;ConfiguratorChain&quot; so that it can invoke multiple configurators. In the release after next, &quot;ConfiguratorChain&quot; will become the default configurator instead of &quot;KernelConfigurator&quot;.

And also other enhancements and two fixes are included. See the following release notes for details.

## Enhancements ##

### Kernel ###

##### Piece_Unity_Plugin_Factory #####

- Added a feature named &quot;Plug-in Aliases&quot; so that this feature can be used multiple aliases as the name of a plug-in class by setting multiple prefixes. (Ticket #40)

##### Piece_Unity_URL #####

- Added removeQueryString() to remove a name/value pair from the query string.

### Plug-ins ###

##### Renderer_Flexy, Renderer_HTML, Renderer_PHP, Renderer_Smarty #####

- Added a feature named &quot;Fallback View&quot;. (Ticket #37)
  If an error occured while rendering with a specified view and useFallback is true, a fallback view will be rendered.

##### KernelConfigurator #####

- Added a configuration point &quot;pluginPrefixes&quot; for using &quot;Plug-in Aliases&quot;.
- Added two configuration point &quot;validationValidatorPrefixes&quot; and &quot;validationFilterPrefixes&quot; for using &quot;Validator Aliases&quot; and &quot;Filter Aliases&quot;. (Ticket #43)

##### Renderer_Redirection #####

- Added a feature so that __eventNameKey is replaced with the event name key. (Ticket #38)

##### View #####

- Added a feature named &quot;Self Notation&quot; for redirection to an entry point itself. (Ticket #39)

##### ConfiguratorChain, Configurator_Env, Configurator_Event, Configurator_Plugin, Configurator_Request, Configurator_Validation #####

- Added a new plug-in &quot;ConfiguratorChain&quot; so that it can invoke multiple configurators. (Ticket #45)
  In the release after next, &quot;ConfiguratorChain&quot; will become the default configurator instead of &quot;KernelConfigurator&quot;.

### Example Applications ###

- Changed so as to use of ConfigurationChain.

## Defect Fixes ##

### Kernel ###

##### Piece_Unity_URL #####

- Fixed the problem so that EZweb mobile phone cannot redirect with Renderer_Redirection plug-in. (Ticket #44)

### Plug-ins ###

##### Renderer_Redirection #####

- Fixed the problem that the renderer cannot redirect to HTTPS URL.
    </notes>
   </release>
   <release>
    <version>0.10.0</version>
    <date>2007-01-12</date>
    <license>BSD License (revised)</license>
    <state>beta</state>
    <notes>Hi all,

A new release of Piece_Unity is now available.
This release includes a nice feature for the layout system. It can turn off the use of the layout system by the HTTP Accept header. And also other enhancements are included.

See the following release notes for details.

## Enhancements ##

### Plug-ins ###

##### Renderer_HTML #####

- Added a new configuration point &apos;turnOffLayoutByHTTPAccept&apos; on Renderer_HTML.
  If this option is true, the useLayout option is turned off by the HTTP Accept header.

##### Dispatcher_Continuation #####

- Changed the default value of bindActionsWithFlowExecution to true.

##### Interceptor_SessionStart #####

- Added a feature to import a session ID from the request parameters when a new configuration point importSessionIDFromRequest is true. (Ticket #34)

### Example Applications ###

- Updated templates and javascripts of the sample application.
    </notes>
   </release>
   <release>
    <version>0.9.0</version>
    <date>2006-12-23</date>
    <license>BSD License (revised)</license>
    <state>beta</state>
    <notes>Hi all,

A new release of Piece_Unity is now available.
For Piece_Unity, this will be a big release because this release includes a very important feature named &quot;Action Continuation&quot; and several powerful enhancements as follows.

&quot;Action Continuation&quot; is a very important feature for developers. This feature allows developers to write stateful action code via the properties without using flow attributes. In fact it allows stateful programming without thinking sessions. This means that the programming be nearer natural continuation programming, although it is limited the scope in the action.

Interceptor_Authentication plug-in provides a smart and simple solution for authentication.

Renderer_Flexy, Renderer_Smarty, and Renderer_PHP plug-ins provide a simple and useful layout system to reuse shared html layout across multiple pages.

Renderer_JSON plug-in allows to output view elements as JSON.

Also the example applications was restructured with new features as follows. (Sorry there are no JSON examples yet.)

A. Registration Applications

   1. A registration application. *non-exclusive*
   2. A registration application. *exclusive*
   3. A registration application with AHAH. *exclusive*

B. Authentication

   1. An authentication service. *exclusive*
   2. A resource which is protected by the above authentication service. *non-exclusive*

These examples will be available on the web one of these days.

And also other enhancements are included.

See the following release notes for details.

## Enhancements ##

### Kernel ###

##### Piece_Unity_URL #####

- A utility which is used to create the appropriate absolute URL from a relative/absolute URL. (Ticket #4)

##### Piece_Unity_Request #####

- Added support for accessing $_FILES contents as each parameter to support validation of files and images. (Ticket #10)

##### Piece_Unity_Context #####

- Added support for image input type. (Ticket #18)

##### Piece_Unity_Validation #####

- Changed so as to handle a Piece_Right_Results object by reference. (Ticket #20)
- Updated validate() to set a Piece_Unity_Context object as a payload to Piece_Right. (Ticket #19)

##### Piece_Unity_Session_Preload #####

- A class *pre*loader for restoring objects in session.

##### Piece_Unity_Session #####

- Added a feature to preload for restoring objects.

##### Piece_Unity_Plugin_Factory #####

- Added clearInstances() to clear the plug-in instances.

##### Piece_Unity_Error #####

- Added a constant PIECE_UNITY_ERROR_UNEXPECTED_VALUE.
- Added a constant PIECE_UNITY_ERROR_INVALID_OPERATION.

### Plug-ins ###

##### Interceptor_Authentication #####

- An interceptor to control the access to protected resources on Piece_Unity applications.

##### Renderer_JSON #####

- A renderer to output view elements as JSON.

##### Controller #####

- Changed to skip dispatcher when context has already view contents.

##### View #####

- Added a feature to replace the current view with a view which is given by a new configuration point forcedView.
- Added a built-in view element __url which is a Piece_Unity_URL object.

##### KernelConfigurator #####

- Added to preload Dispatcher_Continuation plug-in for restoring action instances in session.
- Added a configuration point nonSSLableServers to make a list of non-SSLable servers.

##### Dispatcher_Continuation #####

- Added a feature to store the action instances as a flow attribute in a flow execution, and restore the action instances when continuing the flow execution.
- Removed the configuration point sessionKey.
- Added getContinuationSessionKey() to get the session key for a continuation object.

##### Renderer_HTML #####

- An abstract renderer which is used to render HTML.

##### Renderer_Flexy, Renderer_PHP, Renderer_Smarty #####

- Added a feature to reuse shared html layout across multiple pages. (Ticket #2)

##### Controller, Dispatcher_Continuation #####

- Updated to publish the Piece_Flow_Continuation object as a view element if it exists even though what the specified dispatcher is. And the flow execution ticket key and the flow name key have always been available as each view element. (Ticket #26)

##### Renderer_Redirection #####

- Removed getURL().

### Example Applications ###

- Restructured applications with new features.
    </notes>
   </release>
   <release>
    <version>0.8.0</version>
    <date>2006-10-17</date>
    <license>BSD License (revised)</license>
    <state>beta</state>
    <notes>This is the first release of Piece_Unity with the new PEAR Channel Server pear.piece-framework.com.

This release includes a few enhancements of the validation system. See the following release notes for details.

## Enhancements ##

### Kernel ###

##### Piece_Unity_Validation #####
- Added getResults() method for getting the Piece_Right_Results object of the latest validation.
- Added setting the Piece_Right_Results object to the current flow scope when the continuation server is running.
- Refactored validate() method using Piece_Right_Validation_Script class.
- Added addValidatorDirectory()/addFilterDirectory() methods.

### Plug-ins ###

##### KernelConfigurator #####
- Added Piece_Right_Results class to the array for autoloading.
- Added missing two configuration points validationValidatorDirectories and validationFilterDirectories, and their processes, which had existed in Interceptor_PieceRight plug-in.
    </notes>
   </release>
   <release>
    <version>0.7.0</version>
    <date>2006-09-16</date>
    <license>BSD License (revised)</license>
    <state>beta</state>
    <notes>This release includes built-in validation system with Piece_Right integration, and a few improvement of Renderer_Redirection plug-in. See the following release notes for details.

Note: Interceptor_PieceRight plug-in has been deprecated. It will be removed in the next release.

## Enhancements ##

### Kernel ###

##### Piece_Unity_Validation #####
- The validation class for Piece_Unity applications. This class is available from this release.

##### Piece_Unity_Context #####
- Added a new method getValidation() for getting the Piece_Unity_Validation object for the current request.

### Plug-ins ###

##### Renderer_Redirection #####
- Added support for redirections with direct access to backend servers when HTTPS protocol is given as a view string.
- Added support for redirections with other proxy servers.
- Changed the code so as to add session ID to the query string only if the URL is internal.
- Added a new configuration point addFlowExecutionTicket to add flow execution ticket to the query string.

##### KernelConfigurator #####
- Added two configuration points validationConfigDirectory and validationCacheDirectory for setting the configuration directory and the cache directory for validations.

### Example Applications ###

- Removed XML declarations.
- Changed the code so as to use built-in validation instead of Interceptor_PieceRight plug-in.
    </notes>
   </release>
   <release>
    <version>0.6.0</version>
    <date>2006-08-19</date>
    <license>BSD License (revised)</license>
    <state>beta</state>
    <notes>This release includes a lot of enhancements and a few defect fixes as follows:

## Enhancements ##

### Kernel ###

##### Piece_Unity_Context #####
- Added support for context attributes.
- Added setProxyPath() method for setting the proxy path if the application uses proxy servers.
- Added getProxyPath() method for getting the proxy path of the application.
- Added usingProxy() method for checking whether the application is accessed via reverse proxies.
- Added setContinuation()/getContinuation() methods for setting/getting the Piece_Flow_Continuation object for the current session.

##### Piece_Unity_Plugin_Common #####
- Added _initialize() method as a template method, and changed the code so as to call it in the constructor.

### Plug-ins ###

##### Interceptor_PieceRight #####
- An interceptor to set a Piece_Right object to the current application context.

##### OutputBufferStack #####
- Added support for PHP built-in functions.

##### Dispatcher_Simple #####
- Added error handling when include_once fail.

##### Interceptor_ProxyBasePath #####
- Changed the code so as to use Piece_Unity_Context::usingProxy() and Piece_Unity_Context::getProxyPath() methods instead of _useProxy() method and &apos;path&apos; configuration point.
- Removed _useProxy() method.
- Removed &apos;path&apos; configuration point.

##### KernelConfigurator #####
- Added &apos;proxyPath&apos; configuratin point for setting the proxy path of applications.

##### Renderer_Redirection #####
- A renderer which is used to redirect requests.

##### View #####
- Added the code to overwrite the extension &apos;renderer&apos; if the view string start with http(s)://.

##### Dispatcher_Continuation #####
- Added the code to set the Piece_Flow_Continuation object to the current context.

##### Interceptor_NullByteAttackPreventation #####
- An interceptor to prevent Null Byte Attack for applications.

##### OutputFilter_JapaneseZ2H #####
- An output filter which can be used to converts Japanese JIS X0208 kana to JIS X0201 kana.

## Example Applications ##

- Updated and improved the design.
- Removed the mailto: link to my e-mail address.
- Changed my e-mail address.
- Introduced form validation using Piece_Right.
- Adjusted to the new interface of Piece_Flow actions.

## Defect Fixes ##

### Kernel ###

##### Piece_Unity_Context #####
- Fixed the problem that an event is ignored when the event name includes the characters other than letters or numbers.

## Plug-ins ##

##### Dispatcher_Continuation #####
- Removed wrong error handling which disables the current callback.

##### OutputBufferStack #####
- Changed the code to prevent strange behaviour.
    </notes>
   </release>
   <release>
    <version>0.5.0</version>
    <date>2006-07-15</date>
    <license>BSD License (revised)</license>
    <state>beta</state>
    <notes>This release includes a lot of enhancements and fixing two problems as follows:

## Enhancements ##

### Kernel ###

##### Piece_Unity #####
- invoke(): Changed the return value to null.

##### Piece_Unity_Plugin_Common #####
- getExtension(): Changed code so as to immediately return when an extension is false or an array.
- Removed unused statements.

##### Piece_Unity_Context #####
- Added setBasePath() method for setting the base path of the current request.
- Added setScriptName() method for setting the script name of the current request.
- Renamed the method from getBaseURLPath() to getBasePath().
- Renamed the method from getBaseURL() to getScriptName().

### Plug-ins ###

##### Interceptor_ProxyBasePath #####
- An interceptor to adjust the base path and the script name of the current request which are held in the Piece_Unity_Context object. This interceptor is used and only works when your web servers are used as reverse proxies.

##### Interceptor_SessionStart #####
- An interceptor to start session automatically.

##### Root #####
- Removed code to start a session.

##### OutputBufferStack #####
- Changed code so as to immediately return when the extension is not an array.
- Added error handling.

##### InterceptorChain #####
- Changed the default value of &apos;interceptors&apos; extension point to the array which only includes &apos;Interceptor_SessionStart&apos; plug-in.
- Changed code so as to immediately return when the extension is not an array.
- Added error handling.

##### KernelConfigurator #####
- Added &apos;pluginDirectories&apos; configuration point for setting plug-in directories.
- Added error handling.

##### View #####
- Added the current session name and the current session id as view elements __sessionName and __sessionID.

## Example Applications ##

- Updated and improved.
- Changed the event names in the action states.

## Defect Fixes ##

### Kernel ###

##### Piece_Unity_Context #####
- Fixed the problem that slashes are replaced with backslashes.
- Fixed the problem where the base path and the script name include the starting slash with Apache 2.0.58 on Windows.
    </notes>
   </release>
   <release>
    <version>0.4.0</version>
    <date>2006-07-12</date>
    <license>BSD License (revised)</license>
    <state>beta</state>
    <notes>This release includes a lot of enhancements as follows:

## Enhancements ##

##### Piece_Unity #####
- Added properties $_configDirectory, $_cacheDirectory, and $_dynamicConfig to use after instantiation.

##### Piece_Unity_Config #####
- Removed methods setConfigurationDirectory(), setCacheDirectory(), getConfigurationDirectory(), getCacheDirectory(), getError(), isMergedExtensionPoint(), isMergedConfigurationPoint().

##### Piece_Unity_Error #####
- pushPHPError(): Added logic to return immediately with the current value of error_reporting() function.

##### Piece_Unity_Request #####
- Added support for importing the PATH_INFO string as parameters.

##### Piece_Unity_ViewElement #####
- Added getElement() method for getting elements.
- Added hasElement() method for checking whether the object has an element with a given name.

##### Root #####
- Added &apos;interceptor&apos; extension point.
- Added &apos;outputFilter&apos; extension point.
- Added &apos;controller&apos; extension point.
- Removed &apos;dispatcher&apos; and &apos;view&apos; extension points.

##### Controller #####
- A controller which delegates requests to appropriate dispatchers and fowards requests to the view handler.

##### InterceptorChain #####
- An interceptor which invokes all interceptors.

##### OutputBufferStack #####
- An output filter which turns output buffering on, and registers all output handlers.

##### OutputFilter_ContentLength #####
- An output filter which outputs Content-Legnth header.

##### Renderer_Smarty #####
- Changed error handling so as to be thrown any errors as exception except non-existing templates.
    </notes>
   </release>
   <release>
    <version>0.3.0</version>
    <date>2006-07-08</date>
    <license>BSD License (revised)</license>
    <state>beta</state>
    <notes>This release includes a few enhancements and fixing a problem as follows:

## Enhancements ##

##### Renderer_Flexy #####
- Added a configuration point &apos;debug&apos; to display debugging information.
- Changed error handling so as to be thrown any errors as &apos;exception&apos; except non-existing template.

## Example Applications ##
- Set the cache directory for Piece_Unity configurations and Piece_Flow flow definitions.

## Defect Fixes ##

- Fixed the problem that relative path cannot be used as the cache directory and action cirectory with Solaris.
    </notes>
   </release>
   <release>
    <version>0.2.0</version>
    <date>2006-07-06</date>
    <license>BSD License (revised)</license>
    <state>beta</state>
    <notes>The first beta release of Piece_Unity.
    </notes>
   </release>
   <release>
    <version>0.1.0</version>
    <date>2006-06-21</date>
    <license>BSD License (revised)</license>
    <state>alpha</state>
    <notes>The first alpha release of Piece_Unity.
    </notes>
   </release>
 </changelog>
</package>
