<?xml version="1.0" encoding="UTF-8" ?>
<!-- $Id$ -->
<!DOCTYPE package SYSTEM "http://pear.php.net/dtd/package-1.0">
<package version="1.0" packagerversion="1.5.0a1">
 <name>Piece_Unity</name>
 <summary>A stateful and secure MVC framework for PHP</summary>
 <description>Piece_Unity is a stateful and secure MVC framework for PHP. Piece_Unity has two major features. The first one is flow control and storing/restoring states with a technology known as continuation server - It based on Piece_Flow web flow engine. The second one is an Eclipse like plug-in system using extension points and configuration points.
 </description>
 <maintainers>
  <maintainer>
   <user>iteman</user>
   <name>KUBO Atsuhiro</name>
   <email>iteman@users.sourceforge.net</email>
   <role>lead</role>
  </maintainer>
  </maintainers>
 <release>
  <version>0.8.0</version>
  <date>2006-10-17</date>
  <license>BSD License (revised)</license>
  <state>beta</state>
  <notes>This is the first release of Piece_Unity with the new PEAR Channel Server pear.piece-framework.com.

This release includes a few enhancements of the validation system. See the following release notes for details.

## Enhancements ##

### Kernel ###

##### Piece_Unity_Validation #####
- Added getResults() method for getting the Piece_Right_Results object of the latest validation.
- Added setting the Piece_Right_Results object to the current flow scope when the continuation server is running.
- Refactored validate() method using Piece_Right_Validation_Script class.
- Added addValidatorDirectory()/addFilterDirectory() methods.

### Plug-ins ###

##### KernelConfigurator #####
- Added Piece_Right_Results class to the array for autoloading.
- Added missing two configuration points validationValidatorDirectories and validationFilterDirectories, and their processes, which had existed in Interceptor_PieceRight plug-in.
  </notes>
  <deps>
   <dep type="php" rel="ge" version="4.3.0" optional="no"/>
   <dep type="pkg" rel="ge" version="1.6.0" optional="no">Piece_Flow</dep>
   <dep type="pkg" rel="ge" version="1.7.0" optional="no">Cache_Lite</dep>
   <dep type="pkg" rel="ge" version="1.4.3" optional="no">PEAR</dep>
   <dep type="pkg" rel="ge" version="1.0.14" optional="no">Net_URL</dep>
   <dep type="pkg" rel="ge" version="1.2.0" optional="no">Piece_Right</dep>
   <dep type="pkg" rel="ge" version="0.4.0" optional="yes">Stagehand_TestRunner</dep>
   <dep type="pkg" rel="ge" version="1.2.4" optional="yes">HTML_Template_Flexy</dep>
   <dep type="pkg" rel="ge" version="1.6.8" optional="yes">Smarty</dep>
  </deps>
  <filelist>
   <dir name="/" baseinstalldir="/">
    <dir name="data">
     <dir name="examples">
      <dir name="css">
       <file role="data" name="default.css" install-as="examples/css/default.css">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
      </dir> <!-- /data/examples/css -->
      <dir name="images">
       <file role="data" name="bg.gif" install-as="examples/images/bg.gif">
       </file>
       <file role="data" name="date_icon.gif" install-as="examples/images/date_icon.gif">
       </file>
       <file role="data" name="piece_footer.jpg" install-as="examples/images/piece_footer.jpg">
       </file>
       <file role="data" name="piece_header.jpg" install-as="examples/images/piece_header.jpg">
       </file>
       <file role="data" name="quotes.gif" install-as="examples/images/quotes.gif">
       </file>
      </dir> <!-- /data/examples/images -->
      <dir name="js">
       <file role="data" name="window_operation.js" install-as="examples/js/window_operation.js">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
      </dir> <!-- /data/examples/js -->
      <dir name="multiple-flow-mode">
       <dir name="htdocs">
        <dir name="css">
         <file role="data" name="default.css" install-as="examples/multiple-flow-mode/htdocs/css/default.css">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /data/examples/multiple-flow-mode/htdocs/css -->
        <dir name="images">
         <file role="data" name="bg.gif" install-as="examples/multiple-flow-mode/htdocs/images/bg.gif">
         </file>
         <file role="data" name="date_icon.gif" install-as="examples/multiple-flow-mode/htdocs/images/date_icon.gif">
         </file>
         <file role="data" name="piece_footer.jpg" install-as="examples/multiple-flow-mode/htdocs/images/piece_footer.jpg">
         </file>
         <file role="data" name="piece_header.jpg" install-as="examples/multiple-flow-mode/htdocs/images/piece_header.jpg">
         </file>
         <file role="data" name="quotes.gif" install-as="examples/multiple-flow-mode/htdocs/images/quotes.gif">
         </file>
        </dir> <!-- /data/examples/multiple-flow-mode/htdocs/images -->
        <file role="data" name="counter.php" install-as="examples/multiple-flow-mode/htdocs/counter.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="data" name="register.php" install-as="examples/multiple-flow-mode/htdocs/register.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="data" name="static.php" install-as="examples/multiple-flow-mode/htdocs/static.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
       </dir> <!-- /data/examples/multiple-flow-mode/htdocs -->
       <dir name="webapp">
        <dir name="actions">
         <file role="data" name="ActionAndDisplayAction.php" install-as="examples/multiple-flow-mode/webapp/actions/ActionAndDisplayAction.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="data" name="CounterAction.php" install-as="examples/multiple-flow-mode/webapp/actions/CounterAction.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="data" name="RegistrationAction.php" install-as="examples/multiple-flow-mode/webapp/actions/RegistrationAction.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /data/examples/multiple-flow-mode/webapp/actions -->
        <dir name="cache">
         <file role="data" name="README" install-as="examples/multiple-flow-mode/webapp/cache/README">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /data/examples/multiple-flow-mode/webapp/cache -->
        <dir name="compiled-templates">
         <file role="data" name="README" install-as="examples/multiple-flow-mode/webapp/compiled-templates/README">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /data/examples/multiple-flow-mode/webapp/compiled-templates -->
        <dir name="config">
         <dir name="flows">
          <file role="data" name="Counter.yaml" install-as="examples/multiple-flow-mode/webapp/config/flows/Counter.yaml">
           <replace from="@package_version@" to="version" type="package-info"/>
          </file>
          <file role="data" name="Registration.yaml" install-as="examples/multiple-flow-mode/webapp/config/flows/Registration.yaml">
           <replace from="@package_version@" to="version" type="package-info"/>
          </file>
         </dir> <!-- /data/examples/multiple-flow-mode/webapp/config/flows -->
         <dir name="validations">
          <file role="data" name="Registration.yaml" install-as="examples/multiple-flow-mode/webapp/config/validations/Registration.yaml">
           <replace from="@package_version@" to="version" type="package-info"/>
          </file>
         </dir> <!-- /data/examples/multiple-flow-mode/webapp/config/validations -->
         <file role="data" name="piece-unity-config.yaml" install-as="examples/multiple-flow-mode/webapp/config/piece-unity-config.yaml">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /data/examples/multiple-flow-mode/webapp/config -->
        <dir name="templates">
         <dir name="Counter">
          <file role="data" name="Counter.html" install-as="examples/multiple-flow-mode/webapp/templates/Counter/Counter.html">
           <replace from="@package_version@" to="version" type="package-info"/>
          </file>
          <file role="data" name="Finish.html" install-as="examples/multiple-flow-mode/webapp/templates/Counter/Finish.html">
           <replace from="@package_version@" to="version" type="package-info"/>
          </file>
         </dir> <!-- /data/examples/multiple-flow-mode/webapp/templates/Counter -->
         <dir name="Registration">
          <file role="data" name="Confirmation.html" install-as="examples/multiple-flow-mode/webapp/templates/Registration/Confirmation.html">
           <replace from="@package_version@" to="version" type="package-info"/>
          </file>
          <file role="data" name="Finish.html" install-as="examples/multiple-flow-mode/webapp/templates/Registration/Finish.html">
           <replace from="@package_version@" to="version" type="package-info"/>
          </file>
          <file role="data" name="Form.html" install-as="examples/multiple-flow-mode/webapp/templates/Registration/Form.html">
           <replace from="@package_version@" to="version" type="package-info"/>
          </file>
         </dir> <!-- /data/examples/multiple-flow-mode/webapp/templates/Registration -->
         <dir name="Static">
          <file role="data" name="ActionAndDisplay.html" install-as="examples/multiple-flow-mode/webapp/templates/Static/ActionAndDisplay.html">
           <replace from="@package_version@" to="version" type="package-info"/>
          </file>
          <file role="data" name="ImmediateDisplay.html" install-as="examples/multiple-flow-mode/webapp/templates/Static/ImmediateDisplay.html">
           <replace from="@package_version@" to="version" type="package-info"/>
          </file>
         </dir> <!-- /data/examples/multiple-flow-mode/webapp/templates/Static -->
        </dir> <!-- /data/examples/multiple-flow-mode/webapp/templates -->
       </dir> <!-- /data/examples/multiple-flow-mode/webapp -->
      </dir> <!-- /data/examples/multiple-flow-mode -->
      <dir name="single-flow-mode">
       <dir name="htdocs">
        <dir name="css">
         <file role="data" name="default.css" install-as="examples/single-flow-mode/htdocs/css/default.css">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /data/examples/single-flow-mode/htdocs/css -->
        <dir name="images">
         <file role="data" name="bg.gif" install-as="examples/single-flow-mode/htdocs/images/bg.gif">
         </file>
         <file role="data" name="date_icon.gif" install-as="examples/single-flow-mode/htdocs/images/date_icon.gif">
         </file>
         <file role="data" name="piece_footer.jpg" install-as="examples/single-flow-mode/htdocs/images/piece_footer.jpg">
         </file>
         <file role="data" name="piece_header.jpg" install-as="examples/single-flow-mode/htdocs/images/piece_header.jpg">
         </file>
         <file role="data" name="quotes.gif" install-as="examples/single-flow-mode/htdocs/images/quotes.gif">
         </file>
        </dir> <!-- /data/examples/single-flow-mode/htdocs/images -->
        <file role="data" name="index.php" install-as="examples/single-flow-mode/htdocs/index.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="data" name="static.php" install-as="examples/single-flow-mode/htdocs/static.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
       </dir> <!-- /data/examples/single-flow-mode/htdocs -->
       <dir name="webapp">
        <dir name="actions">
         <file role="data" name="ActionAndDisplayAction.php" install-as="examples/single-flow-mode/webapp/actions/ActionAndDisplayAction.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="data" name="RegistrationAction.php" install-as="examples/single-flow-mode/webapp/actions/RegistrationAction.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /data/examples/single-flow-mode/webapp/actions -->
        <dir name="cache">
         <file role="data" name="README" install-as="examples/single-flow-mode/webapp/cache/README">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /data/examples/single-flow-mode/webapp/cache -->
        <dir name="compiled-templates">
         <file role="data" name="README" install-as="examples/single-flow-mode/webapp/compiled-templates/README">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /data/examples/single-flow-mode/webapp/compiled-templates -->
        <dir name="config">
         <dir name="flows">
          <file role="data" name="Registration.yaml" install-as="examples/single-flow-mode/webapp/config/flows/Registration.yaml">
           <replace from="@package_version@" to="version" type="package-info"/>
          </file>
         </dir> <!-- /data/examples/single-flow-mode/webapp/config/flows -->
         <dir name="validations">
          <file role="data" name="Registration.yaml" install-as="examples/single-flow-mode/webapp/config/validations/Registration.yaml">
           <replace from="@package_version@" to="version" type="package-info"/>
          </file>
         </dir> <!-- /data/examples/single-flow-mode/webapp/config/validations -->
         <file role="data" name="piece-unity-config.yaml" install-as="examples/single-flow-mode/webapp/config/piece-unity-config.yaml">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /data/examples/single-flow-mode/webapp/config -->
        <dir name="templates">
         <dir name="Static">
          <file role="data" name="ActionAndDisplay.html" install-as="examples/single-flow-mode/webapp/templates/Static/ActionAndDisplay.html">
           <replace from="@package_version@" to="version" type="package-info"/>
          </file>
          <file role="data" name="ImmediateDisplay.html" install-as="examples/single-flow-mode/webapp/templates/Static/ImmediateDisplay.html">
           <replace from="@package_version@" to="version" type="package-info"/>
          </file>
         </dir> <!-- /data/examples/single-flow-mode/webapp/templates/Static -->
         <file role="data" name="Confirmation.html" install-as="examples/single-flow-mode/webapp/templates/Confirmation.html">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="data" name="Finish.html" install-as="examples/single-flow-mode/webapp/templates/Finish.html">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="data" name="Form.html" install-as="examples/single-flow-mode/webapp/templates/Form.html">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /data/examples/single-flow-mode/webapp/templates -->
       </dir> <!-- /data/examples/single-flow-mode/webapp -->
      </dir> <!-- /data/examples/single-flow-mode -->
      <file role="data" name="index.html" install-as="examples/index.html">
       <replace from="@package_version@" to="version" type="package-info"/>
      </file>
     </dir> <!-- /data/examples -->
     <file role="data" name="piece-unity-config.yaml" install-as="piece-unity-config.yaml">
      <replace from="@package_version@" to="version" type="package-info"/>
     </file>
     <file role="data" name="piece-unity.yaml" install-as="piece-unity.yaml">
      <replace from="@package_version@" to="version" type="package-info"/>
     </file>
    </dir> <!-- /data -->
    <dir name="docs">
     <file role="doc" name="LICENSE" install-as="LICENSE">
      <replace from="@package_version@" to="version" type="package-info"/>
     </file>
    </dir> <!-- /docs -->
    <dir name="Piece">
     <dir name="Unity">
      <dir name="Config">
       <file role="php" name="Factory.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
      </dir> <!-- /Piece/Unity/Config -->
      <dir name="Plugin">
       <dir name="Dispatcher">
        <file role="php" name="Continuation.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="php" name="Simple.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
       </dir> <!-- /Piece/Unity/Plugin/Dispatcher -->
       <dir name="Interceptor">
        <file role="php" name="NullByteAttackPreventation.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="php" name="ProxyBasePath.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="php" name="SessionStart.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
       </dir> <!-- /Piece/Unity/Plugin/Interceptor -->
       <dir name="OutputFilter">
        <file role="php" name="ContentLength.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="php" name="JapaneseZ2H.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
       </dir> <!-- /Piece/Unity/Plugin/OutputFilter -->
       <dir name="Renderer">
        <file role="php" name="Flexy.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="php" name="PHP.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="php" name="Redirection.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="php" name="Smarty.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
       </dir> <!-- /Piece/Unity/Plugin/Renderer -->
       <file role="php" name="Common.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="php" name="Controller.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="php" name="Factory.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="php" name="InterceptorChain.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="php" name="KernelConfigurator.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="php" name="OutputBufferStack.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="php" name="Root.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="php" name="View.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
      </dir> <!-- /Piece/Unity/Plugin -->
      <file role="php" name="Config.php">
       <replace from="@package_version@" to="version" type="package-info"/>
      </file>
      <file role="php" name="Context.php">
       <replace from="@package_version@" to="version" type="package-info"/>
      </file>
      <file role="php" name="Error.php">
       <replace from="@package_version@" to="version" type="package-info"/>
      </file>
      <file role="php" name="Request.php">
       <replace from="@package_version@" to="version" type="package-info"/>
      </file>
      <file role="php" name="Session.php">
       <replace from="@package_version@" to="version" type="package-info"/>
      </file>
      <file role="php" name="Validation.php">
       <replace from="@package_version@" to="version" type="package-info"/>
      </file>
      <file role="php" name="ViewElement.php">
       <replace from="@package_version@" to="version" type="package-info"/>
      </file>
     </dir> <!-- /Piece/Unity -->
     <file role="php" name="Unity.php">
      <replace from="@package_version@" to="version" type="package-info"/>
     </file>
    </dir> <!-- /Piece -->
    <dir name="tests">
     <dir name="Piece">
      <dir name="Unity">
       <dir name="Config">
        <file role="test" name="FactoryTestCase.php" install-as="Piece/Unity/Config/FactoryTestCase.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="test" name="TestRunner.php" install-as="Piece/Unity/Config/TestRunner.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
       </dir> <!-- /tests/Piece/Unity/Config -->
       <dir name="Plugin">
        <dir name="Dispatcher">
         <file role="test" name="ContinuationTestCase.php" install-as="Piece/Unity/Plugin/Dispatcher/ContinuationTestCase.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="ContinuationValidation.yaml" install-as="Piece/Unity/Plugin/Dispatcher/ContinuationValidation.yaml">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="ContinuationValidationAction.php" install-as="Piece/Unity/Plugin/Dispatcher/ContinuationValidationAction.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="Counter.php" install-as="Piece/Unity/Plugin/Dispatcher/Counter.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="Counter.yaml" install-as="Piece/Unity/Plugin/Dispatcher/Counter.yaml">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="CounterAction.php" install-as="Piece/Unity/Plugin/Dispatcher/CounterAction.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="SimpleExampleAction.php" install-as="Piece/Unity/Plugin/Dispatcher/SimpleExampleAction.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="SimpleTestCase.php" install-as="Piece/Unity/Plugin/Dispatcher/SimpleTestCase.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="SimpleValidationAction.php" install-as="Piece/Unity/Plugin/Dispatcher/SimpleValidationAction.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="TestRunner.php" install-as="Piece/Unity/Plugin/Dispatcher/TestRunner.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="Validation.yaml" install-as="Piece/Unity/Plugin/Dispatcher/Validation.yaml">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /tests/Piece/Unity/Plugin/Dispatcher -->
        <dir name="Interceptor">
         <file role="test" name="First.php" install-as="Piece/Unity/Plugin/Interceptor/First.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="NullByteAttackPreventationTestCase.php" install-as="Piece/Unity/Plugin/Interceptor/NullByteAttackPreventationTestCase.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="ProxyBasePathTestCase.php" install-as="Piece/Unity/Plugin/Interceptor/ProxyBasePathTestCase.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="Second.php" install-as="Piece/Unity/Plugin/Interceptor/Second.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="TestRunner.php" install-as="Piece/Unity/Plugin/Interceptor/TestRunner.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /tests/Piece/Unity/Plugin/Interceptor -->
        <dir name="KernelConfigurator">
         <dir name="Piece">
          <dir name="Right">
           <dir name="Filter">
            <file role="test" name="LowerCase.php" install-as="Piece/Unity/Plugin/KernelConfigurator/Piece/Right/Filter/LowerCase.php">
             <replace from="@package_version@" to="version" type="package-info"/>
            </file>
           </dir> <!-- /tests/Piece/Unity/Plugin/KernelConfigurator/Piece/Right/Filter -->
           <dir name="Validator">
            <file role="test" name="HelloWorld.php" install-as="Piece/Unity/Plugin/KernelConfigurator/Piece/Right/Validator/HelloWorld.php">
             <replace from="@package_version@" to="version" type="package-info"/>
            </file>
           </dir> <!-- /tests/Piece/Unity/Plugin/KernelConfigurator/Piece/Right/Validator -->
          </dir> <!-- /tests/Piece/Unity/Plugin/KernelConfigurator/Piece/Right -->
         </dir> <!-- /tests/Piece/Unity/Plugin/KernelConfigurator/Piece -->
        </dir> <!-- /tests/Piece/Unity/Plugin/KernelConfigurator -->
        <dir name="OutputFilter">
         <file role="test" name="First.php" install-as="Piece/Unity/Plugin/OutputFilter/First.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="Second.php" install-as="Piece/Unity/Plugin/OutputFilter/Second.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /tests/Piece/Unity/Plugin/OutputFilter -->
        <dir name="Renderer">
         <file role="test" name="CompatibilityTest.php" install-as="Piece/Unity/Plugin/Renderer/CompatibilityTest.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="FlexyAutomaticFormElements.html" install-as="Piece/Unity/Plugin/Renderer/FlexyAutomaticFormElements.html">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="FlexyBuiltinElements.html" install-as="Piece/Unity/Plugin/Renderer/FlexyBuiltinElements.html">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="FlexyExample.html" install-as="Piece/Unity/Plugin/Renderer/FlexyExample.html">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="FlexyExampleAction.php" install-as="Piece/Unity/Plugin/Renderer/FlexyExampleAction.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="FlexyKeepingReference.html" install-as="Piece/Unity/Plugin/Renderer/FlexyKeepingReference.html">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="FlexyTestCase.php" install-as="Piece/Unity/Plugin/Renderer/FlexyTestCase.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="PHPBuiltinElements.php" install-as="Piece/Unity/Plugin/Renderer/PHPBuiltinElements.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="PHPExample.php" install-as="Piece/Unity/Plugin/Renderer/PHPExample.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="PHPExampleAction.php" install-as="Piece/Unity/Plugin/Renderer/PHPExampleAction.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="PHPKeepingReference.php" install-as="Piece/Unity/Plugin/Renderer/PHPKeepingReference.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="PHPTestCase.php" install-as="Piece/Unity/Plugin/Renderer/PHPTestCase.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="RedirectionTestCase.php" install-as="Piece/Unity/Plugin/Renderer/RedirectionTestCase.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="SmartyBuiltinElements.tpl" install-as="Piece/Unity/Plugin/Renderer/SmartyBuiltinElements.tpl">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="SmartyExample.tpl" install-as="Piece/Unity/Plugin/Renderer/SmartyExample.tpl">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="SmartyExampleAction.php" install-as="Piece/Unity/Plugin/Renderer/SmartyExampleAction.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="SmartyKeepingReference.tpl" install-as="Piece/Unity/Plugin/Renderer/SmartyKeepingReference.tpl">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="SmartyTestCase.php" install-as="Piece/Unity/Plugin/Renderer/SmartyTestCase.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
         <file role="test" name="TestRunner.php" install-as="Piece/Unity/Plugin/Renderer/TestRunner.php">
          <replace from="@package_version@" to="version" type="package-info"/>
         </file>
        </dir> <!-- /tests/Piece/Unity/Plugin/Renderer -->
        <file role="test" name="AutoloadClass.php" install-as="Piece/Unity/Plugin/AutoloadClass.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="test" name="Bar.php" install-as="Piece/Unity/Plugin/Bar.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="test" name="Baz.php" install-as="Piece/Unity/Plugin/Baz.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="test" name="FactoryTestCase.php" install-as="Piece/Unity/Plugin/FactoryTestCase.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="test" name="Foo.php" install-as="Piece/Unity/Plugin/Foo.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="test" name="InterceptorChainTestCase.php" install-as="Piece/Unity/Plugin/InterceptorChainTestCase.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="test" name="Invalid.php" install-as="Piece/Unity/Plugin/Invalid.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="test" name="KernelConfiguratorTestCase.php" install-as="Piece/Unity/Plugin/KernelConfiguratorTestCase.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="test" name="OutputBufferStackTestCase.php" install-as="Piece/Unity/Plugin/OutputBufferStackTestCase.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="test" name="Qux.php" install-as="Piece/Unity/Plugin/Qux.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="test" name="RelativePathVulnerability.php" install-as="Piece/Unity/Plugin/RelativePathVulnerability.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="test" name="RelativePathVulnerabilityAction.php" install-as="Piece/Unity/Plugin/RelativePathVulnerabilityAction.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
        <file role="test" name="TestRunner.php" install-as="Piece/Unity/Plugin/TestRunner.php">
         <replace from="@package_version@" to="version" type="package-info"/>
        </file>
       </dir> <!-- /tests/Piece/Unity/Plugin -->
       <file role="test" name="Authentication.yaml" install-as="Piece/Unity/Authentication.yaml">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="test" name="AutoloadClass.php" install-as="Piece/Unity/AutoloadClass.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="test" name="ConfigTestCase.php" install-as="Piece/Unity/ConfigTestCase.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="test" name="ContextTestCase.php" install-as="Piece/Unity/ContextTestCase.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="test" name="RequestTestCase.php" install-as="Piece/Unity/RequestTestCase.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="test" name="SessionTestCase.php" install-as="Piece/Unity/SessionTestCase.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="test" name="TestRunner.php" install-as="Piece/Unity/TestRunner.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="test" name="ValidationTestCase.php" install-as="Piece/Unity/ValidationTestCase.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
       <file role="test" name="ViewElementTestCase.php" install-as="Piece/Unity/ViewElementTestCase.php">
        <replace from="@package_version@" to="version" type="package-info"/>
       </file>
      </dir> <!-- /tests/Piece/Unity -->
      <file role="test" name="TestRunner.php" install-as="Piece/TestRunner.php">
       <replace from="@package_version@" to="version" type="package-info"/>
      </file>
      <file role="test" name="UnityTestCase.php" install-as="Piece/UnityTestCase.php">
       <replace from="@package_version@" to="version" type="package-info"/>
      </file>
     </dir> <!-- /tests/Piece -->
     <file role="test" name="AllTestRunner.php" install-as="AllTestRunner.php">
      <replace from="@package_version@" to="version" type="package-info"/>
     </file>
    </dir> <!-- /tests -->
   </dir> <!-- / -->
  </filelist>
 </release>
 <changelog>
   <release>
    <version>0.8.0</version>
    <date>2006-10-17</date>
    <license>BSD License (revised)</license>
    <state>beta</state>
    <notes>This is the first release of Piece_Unity with the new PEAR Channel Server pear.piece-framework.com.

This release includes a few enhancements of the validation system. See the following release notes for details.

## Enhancements ##

### Kernel ###

##### Piece_Unity_Validation #####
- Added getResults() method for getting the Piece_Right_Results object of the latest validation.
- Added setting the Piece_Right_Results object to the current flow scope when the continuation server is running.
- Refactored validate() method using Piece_Right_Validation_Script class.
- Added addValidatorDirectory()/addFilterDirectory() methods.

### Plug-ins ###

##### KernelConfigurator #####
- Added Piece_Right_Results class to the array for autoloading.
- Added missing two configuration points validationValidatorDirectories and validationFilterDirectories, and their processes, which had existed in Interceptor_PieceRight plug-in.
    </notes>
   </release>
   <release>
    <version>0.7.0</version>
    <date>2006-09-16</date>
    <license>BSD License (revised)</license>
    <state>beta</state>
    <notes>This release includes built-in validation system with Piece_Right integration, and a few improvement of Renderer_Redirection plug-in. See the following release notes for details.

Note: Interceptor_PieceRight plug-in has been deprecated. It will be removed in the next release.

## Enhancements ##

### Kernel ###

##### Piece_Unity_Validation #####
- The validation class for Piece_Unity applications. This class is available from this release.

##### Piece_Unity_Context #####
- Added a new method getValidation() for getting the Piece_Unity_Validation object for the current request.

### Plug-ins ###

##### Renderer_Redirection #####
- Added support for redirections with direct access to backend servers when HTTPS protocol is given as a view string.
- Added support for redirections with other proxy servers.
- Changed the code so as to add session ID to the query string only if the URL is internal.
- Added a new configuration point addFlowExecutionTicket to add flow execution ticket to the query string.

##### KernelConfigurator #####
- Added two configuration points validationConfigDirectory and validationCacheDirectory for setting the configuration directory and the cache directory for validations.

### Example Applications ###
- Removed XML declarations.
- Changed the code so as to use built-in validation instead of Interceptor_PieceRight plug-in.
    </notes>
   </release>
   <release>
    <version>0.6.0</version>
    <date>2006-08-19</date>
    <license>BSD License (revised)</license>
    <state>beta</state>
    <notes>This release includes a lot of enhancements and a few defect fixes as follows:

## Enhancements ##

### Kernel ###

##### Piece_Unity_Context #####
- Added support for context attributes.
- Added setProxyPath() method for setting the proxy path if the application uses proxy servers.
- Added getProxyPath() method for getting the proxy path of the application.
- Added usingProxy() method for checking whether the application is accessed via reverse proxies.
- Added setContinuation()/getContinuation() methods for setting/getting the Piece_Flow_Continuation object for the current session.

##### Piece_Unity_Plugin_Common #####
- Added _initialize() method as a template method, and changed the code so as to call it in the constructor.

### Plug-ins ###

##### Interceptor_PieceRight #####
- An interceptor to set a Piece_Right object to the current application context.

##### OutputBufferStack #####
- Added support for PHP built-in functions.

##### Dispatcher_Simple #####
- Added error handling when include_once fail.

##### Interceptor_ProxyBasePath #####
- Changed the code so as to use Piece_Unity_Context::usingProxy() and Piece_Unity_Context::getProxyPath() methods instead of _useProxy() method and &apos;path&apos; configuration point.
- Removed _useProxy() method.
- Removed &apos;path&apos; configuration point.

##### KernelConfigurator #####
- Added &apos;proxyPath&apos; configuratin point for setting the proxy path of applications.

##### Renderer_Redirection #####
- A renderer which is used to redirect requests.

##### View #####
- Added the code to overwrite the extension &apos;renderer&apos; if the view string start with http(s)://.

##### Dispatcher_Continuation #####
- Added the code to set the Piece_Flow_Continuation object to the current context.

##### Interceptor_NullByteAttackPreventation #####
- An interceptor to prevent Null Byte Attack for applications.

##### OutputFilter_JapaneseZ2H #####
- An output filter which can be used to converts Japanese JIS X0208 kana to JIS X0201 kana.

## Example Applications ##

- Updated and improved the design.
- Removed the mailto: link to my e-mail address.
- Changed my e-mail address.
- Introduced form validation using Piece_Right.
- Adjusted to the new interface of Piece_Flow actions.

## Defect Fixes ##

### Kernel ###

##### Piece_Unity_Context #####
- Fixed the problem that an event is ignored when the event name includes the characters other than letters or numbers.

## Plug-ins ##

##### Dispatcher_Continuation #####
- Removed wrong error handling which disables the current callback.

##### OutputBufferStack #####
- Changed the code to prevent strange behaviour.
    </notes>
   </release>
   <release>
    <version>0.5.0</version>
    <date>2006-07-15</date>
    <license>BSD License (revised)</license>
    <state>beta</state>
    <notes>This release includes a lot of enhancements and fixing two problems as follows:

## Enhancements ##

### Kernel ###

##### Piece_Unity #####
- invoke(): Changed the return value to null.

##### Piece_Unity_Plugin_Common #####
- getExtension(): Changed code so as to immediately return when an extension is false or an array.
- Removed unused statements.

##### Piece_Unity_Context #####
- Added setBasePath() method for setting the base path of the current request.
- Added setScriptName() method for setting the script name of the current request.
- Renamed the method from getBaseURLPath() to getBasePath().
- Renamed the method from getBaseURL() to getScriptName().

### Plug-ins ###

##### Interceptor_ProxyBasePath #####
- An interceptor to adjust the base path and the script name of the current request which are held in the Piece_Unity_Context object. This interceptor is used and only works when your web servers are used as reverse proxies.

##### Interceptor_SessionStart #####
- An interceptor to start session automatically.

##### Root #####
- Removed code to start a session.

##### OutputBufferStack #####
- Changed code so as to immediately return when the extension is not an array.
- Added error handling.

##### InterceptorChain #####
- Changed the default value of &apos;interceptors&apos; extension point to the array which only includes &apos;Interceptor_SessionStart&apos; plug-in.
- Changed code so as to immediately return when the extension is not an array.
- Added error handling.

##### KernelConfigurator #####
- Added &apos;pluginDirectories&apos; configuration point for setting plug-in directories.
- Added error handling.

##### View #####
- Added the current session name and the current session id as view elements __sessionName and __sessionID.

## Example Applications ##

- Updated and improved.
- Changed the event names in the action states.

## Defect Fixes ##

### Kernel ###

##### Piece_Unity_Context #####
- Fixed the problem that slashes are replaced with backslashes.
- Fixed the problem where the base path and the script name include the starting slash with Apache 2.0.58 on Windows.
    </notes>
   </release>
   <release>
    <version>0.4.0</version>
    <date>2006-07-12</date>
    <license>BSD License (revised)</license>
    <state>beta</state>
    <notes>This release includes a lot of enhancements as follows:

## Enhancements ##

##### Piece_Unity #####
- Added properties $_configDirectory, $_cacheDirectory, and $_dynamicConfig to use after instantiation.

##### Piece_Unity_Config #####
- Removed methods setConfigurationDirectory(), setCacheDirectory(), getConfigurationDirectory(), getCacheDirectory(), getError(), isMergedExtensionPoint(), isMergedConfigurationPoint().

##### Piece_Unity_Error #####
- pushPHPError(): Added logic to return immediately with the current value of error_reporting() function.

##### Piece_Unity_Request #####
- Added support for importing the PATH_INFO string as parameters.

##### Piece_Unity_ViewElement #####
- Added getElement() method for getting elements.
- Added hasElement() method for checking whether the object has an element with a given name.

##### Root #####
- Added &apos;interceptor&apos; extension point.
- Added &apos;outputFilter&apos; extension point.
- Added &apos;controller&apos; extension point.
- Removed &apos;dispatcher&apos; and &apos;view&apos; extension points.

##### Controller #####
- A controller which delegates requests to appropriate dispatchers and fowards requests to the view handler.

##### InterceptorChain #####
- An interceptor which invokes all interceptors.

##### OutputBufferStack #####
- An output filter which turns output buffering on, and registers all output handlers.

##### OutputFilter_ContentLength #####
- An output filter which outputs Content-Legnth header.

##### Renderer_Smarty #####
- Changed error handling so as to be thrown any errors as exception except non-existing templates.
    </notes>
   </release>
   <release>
    <version>0.3.0</version>
    <date>2006-07-08</date>
    <license>BSD License (revised)</license>
    <state>beta</state>
    <notes>This release includes a few enhancements and fixing a problem as follows:

## Enhancements ##

##### Renderer_Flexy #####
- Added a configuration point &apos;debug&apos; to display debugging information.
- Changed error handling so as to be thrown any errors as &apos;exception&apos; except non-existing template.

## Example Applications ##
- Set the cache directory for Piece_Unity configurations and Piece_Flow flow definitions.

## Defect Fixes ##

- Fixed the problem that relative path cannot be used as the cache directory and action cirectory with Solaris.
    </notes>
   </release>
   <release>
    <version>0.2.0</version>
    <date>2006-07-06</date>
    <license>BSD License (revised)</license>
    <state>beta</state>
    <notes>The first beta release of Piece_Unity.
    </notes>
   </release>
   <release>
    <version>0.1.0</version>
    <date>2006-06-21</date>
    <license>BSD License (revised)</license>
    <state>alpha</state>
    <notes>The first alpha release of Piece_Unity.
    </notes>
   </release>
 </changelog>
</package>
